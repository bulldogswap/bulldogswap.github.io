<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script type="text/javascript">
       //Fetch the price of Ethereum
   const eth_api_url = 'https://api.cryptonator.com/api/ticker/eth-usd';
   function ethereumHttpObject() {
      try {
         return new XMLHttpRequest();
      } catch (error) {}
   }
   function ethereumGetData() {
      var request = ethereumHttpObject();
      request.open('GET', eth_api_url, false);
      request.send(null);
      console.log(request.responseText);
      return request.responseText;
   }
   function ethereumDataHandler() {
      var raw_data_string = ethereumGetData();
      var data = JSON.parse(raw_data_string);
      var base = data.ticker.base;
      var target = data.ticker.target;
      var price = data.ticker.price;
      var volume = data.ticker.volume;
      var change = data.ticker.change;
      var api_server_epoch_timestamp = data.timestamp;
      var api_success = data.success;
      var api_error = data.error;
      return price;
   }
   document.getElementById('eth_val').innerHTML = '$' + Math.round(ethereumDataHandler());
   //Fetch the price of Litecoin
   const ltc_api_url = 'https://api.cryptonator.com/api/ticker/ltc-usd';
   function litecoinHttpObject() {
      try {
         return new XMLHttpRequest();
      } catch (error) {}
   }
   function litecoinGetData() {
      var request = litecoinHttpObject();
      request.open('GET', ltc_api_url, false);
      request.send(null);
      //console.log(request.responseText);
      return request.responseText;
   }
   function litecoinDataHandler() {
      var raw_data_string = litecoinGetData();
      var data = JSON.parse(raw_data_string);
      var base = data.ticker.base;
      var target = data.ticker.target;
      var price = data.ticker.price;
      var volume = data.ticker.volume;
      var change = data.ticker.change;
      var api_server_epoch_timestamp = data.timestamp;
      var api_success = data.success;
      var api_error = data.error;
      return price;
   }
   document.getElementById('ltc_val').innerHTML = '$' + Math.round(litecoinDataHandler());
   //Fetch the value of Bitcoin
   const api_url = 'https://api.cryptonator.com/api/ticker/btc-usd';
   const time_interval = 2;
   function addLeadingZero(num) {
      return num <= 9 ? '0' + num : num;
   }
   function clientDateTime() {
      var date_time = new Date();
      var curr_hour = date_time.getHours();
      var zero_added_curr_hour = addLeadingZero(curr_hour);
      var curr_min = date_time.getMinutes();
      var curr_sec = date_time.getSeconds();
      var curr_time = zero_added_curr_hour + ':' + curr_min + ':' + curr_sec;
      return curr_time;
   }
   function makeHttpObject() {
      try {
         return new XMLHttpRequest();
      } catch (error) {}
   }
   function bitcoinGetData() {
      var request = makeHttpObject();
      request.open('GET', api_url, false);
      request.send(null);
      return request.responseText;
   }
   function bitcoinDataHandler() {
      var raw_data_string = bitcoinGetData();
      var data = JSON.parse(raw_data_string);
      var base = data.ticker.base;
      var target = data.ticker.target;
      var price = data.ticker.price;
      var volume = data.ticker.volume;
      var change = data.ticker.change;
      var api_server_epoch_timestamp = data.timestamp;
      var api_success = data.success;
      var api_error = data.error;
      return price;
   }
   document.getElementById('btc_val').innerHTML = '$' + Math.round(bitcoinDataHandler());
   FusionCharts.ready(function() {
      var fusioncharts = new FusionCharts({
         id: 'stockRealTimeChart',
         type: 'realtimeline',
         renderAt: 'chart-container',
         width: '100%',
         height: '350',
         dataFormat: 'json',
         dataSource: {
            chart: {
               caption: 'Bitcoin Ticker',
               subCaption: '',
               xAxisName: 'Local Time',
               yAxisName: 'USD',
               numberPrefix: '$',
               refreshinterval: '2',
               slantLabels: '1',
               numdisplaysets: '10',
               labeldisplay: 'rotate',
               showValues: '0',
               showRealTimeValue: '0',
               theme: 'fusion',
               yAxisMaxValue: bitcoinDataHandler().toString() + 20,
               yAxisMinValue: bitcoinDataHandler().toString() - 20,
            },
            categories: [
               {
                  category: [
                     {
                        label: clientDateTime().toString(),
                     },
                  ],
               },
            ],
            dataset: [
               {
                  data: [
                     {
                        value: bitcoinDataHandler().toString(),
                     },
                  ],
               },
            ],
         },
         events: {
            initialized: function(e) {
               function updateData() {
                  // Get reference to the chart using its ID
                  var chartRef = FusionCharts('stockRealTimeChart'),
                     x_axis = clientDateTime(),
                     y_axis = bitcoinDataHandler(),
                     strData = '&label=' + x_axis + '&value=' + y_axis;
                  // Feed it to chart.
                  chartRef.feedData(strData);
               }
               e.sender.chartInterval = setInterval(function() {
                  updateData();
               }, time_interval * 1000);
            },
            disposed: function(evt, arg) {
               clearInterval(evt.sender.chartInterval);
            },
         },
      });
      fusioncharts.render();
   });

  </script>

  <style type="text/css">
      body {
    background: linear-gradient(-135deg, #EDE5DE, #9941D8);
    }
  </style>
  <nav class="navbar navbar-expand-lg navbar-light bg-info">
    <a class="navbar-brand" href="#">Bulldog Swap</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about.html">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#">Discord</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#">Analytics</a>
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
</nav>
</head>
 <body>
     <div class="container-fluid">
         <div class="row text-center mt-4 pl-3 pr-3">
             <div class="col-sm">
                 <div class="card">
                     <div class="card-body">
                         <div class="h3">Bitcoin(BTC)</div>
                         <div class="h5">(Price in USD)</div>
                         <div id="btc_val" class="h4 kpi-value"></div>
                     </div>
                 </div>
             </div>
             <div class="col-sm">
                 <div class="card">
                     <div class="card-body">
                         <div class="h3">Litecoin(LTC)</div>
                         <div class="h5">(Price in USD)</div>
                         <div id="ltc_val" class="h4 kpi-value"></div>
                     </div>
                 </div>
             </div>
             <div class="col-sm">
                 <div class="card">
                     <div class="card-body">
                         <div class="h3">Ethereum</div>
                         <div class="h5">(Price in USD)</div>
                         <div id="eth_val" class="h4 kpi-value"></div>
                     </div>
                 </div>
             </div>
         </div>
         <div class="row mt-4 pr-3 pl-3">
             <div class="col">
                 <div class="card">
                     <div class="card-body">
                         <div id="chart-container"></div>
                     </div>
                 </div>
             </div>
         </div>
     </div>
     </div>
 </body>


</html>