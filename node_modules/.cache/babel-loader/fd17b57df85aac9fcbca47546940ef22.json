{"ast":null,"code":"import _slicedToArray from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _objectSpread from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import{css as _css}from\"styled-components\";import _styled from\"styled-components\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var _excluded=[\"minHeight\",\"maxHeight\",\"mobile\",\"isOpen\"];import React from'react';import{animated,useTransition,useSpring}from'react-spring';import{DialogOverlay,DialogContent}from'@reach/dialog';import{isMobile}from'react-device-detect';import{transparentize}from'polished';import{useGesture}from'react-use-gesture';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AnimatedDialogOverlay=animated(DialogOverlay);// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar StyledDialogOverlay=_styled(AnimatedDialogOverlay).withConfig({componentId:\"sc-jajvtp-0\"})([\"&[data-reach-dialog-overlay]{z-index:2;background-color:transparent;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:\",\";}\"],function(_ref){var theme=_ref.theme;return theme.modalBG;});var AnimatedDialogContent=animated(DialogContent);// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar StyledDialogContent=_styled(function(_ref2){var minHeight=_ref2.minHeight,maxHeight=_ref2.maxHeight,mobile=_ref2.mobile,isOpen=_ref2.isOpen,rest=_objectWithoutProperties(_ref2,_excluded);return/*#__PURE__*/_jsx(AnimatedDialogContent,_objectSpread({},rest));}).attrs({'aria-label':'dialog'}).withConfig({componentId:\"sc-jajvtp-1\"})([\"overflow-y:auto;&[data-reach-dialog-content]{margin:0 0 2rem 0;background-color:\",\";border:1px solid \",\";box-shadow:0 4px 8px 0 \",\";padding:0px;width:50vw;overflow-y:auto;overflow-x:hidden;align-self:\",\";max-width:420px;\",\" \",\" display:flex;border-radius:20px;\",\" \",\"}\"],function(_ref3){var theme=_ref3.theme;return theme.bg0;},function(_ref4){var theme=_ref4.theme;return theme.bg1;},function(_ref5){var theme=_ref5.theme;return transparentize(0.95,theme.shadow1);},function(_ref6){var mobile=_ref6.mobile;return mobile?'flex-end':'center';},function(_ref7){var maxHeight=_ref7.maxHeight;return maxHeight&&_css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n        max-height: \",\"vh;\\n      \"])),maxHeight);},function(_ref8){var minHeight=_ref8.minHeight;return minHeight&&_css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n        min-height: \",\"vh;\\n      \"])),minHeight);},function(_ref9){var theme=_ref9.theme;return theme.mediaWidth.upToMedium(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n      width: 65vw;\\n      margin: 0;\\n    \"])));},function(_ref10){var theme=_ref10.theme,mobile=_ref10.mobile;return theme.mediaWidth.upToSmall(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n      width:  85vw;\\n      \",\"\\n    \"])),mobile&&_css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n          width: 100vw;\\n          border-radius: 20px;\\n          border-bottom-left-radius: 0;\\n          border-bottom-right-radius: 0;\\n        \"]))));});export default function Modal(_ref11){var isOpen=_ref11.isOpen,onDismiss=_ref11.onDismiss,_ref11$minHeight=_ref11.minHeight,minHeight=_ref11$minHeight===void 0?false:_ref11$minHeight,_ref11$maxHeight=_ref11.maxHeight,maxHeight=_ref11$maxHeight===void 0?90:_ref11$maxHeight,initialFocusRef=_ref11.initialFocusRef,children=_ref11.children;var fadeTransition=useTransition(isOpen,null,{config:{duration:200},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});var _useSpring=useSpring(function(){return{y:0,config:{mass:1,tension:210,friction:20}};}),_useSpring2=_slicedToArray(_useSpring,2),y=_useSpring2[0].y,set=_useSpring2[1];var bind=useGesture({onDrag:function onDrag(state){set({y:state.down?state.movement[1]:0});if(state.movement[1]>300||state.velocity>3&&state.direction[1]>0){onDismiss();}}});return/*#__PURE__*/_jsx(_Fragment,{children:fadeTransition.map(function(_ref12){var item=_ref12.item,key=_ref12.key,props=_ref12.props;return item&&/*#__PURE__*/_jsx(StyledDialogOverlay,{style:props,onDismiss:onDismiss,initialFocusRef:initialFocusRef,unstable_lockFocusAcrossFrames:false,children:/*#__PURE__*/_jsxs(StyledDialogContent,_objectSpread(_objectSpread({},isMobile?_objectSpread(_objectSpread({},bind()),{},{style:{transform:y.interpolate(function(y){return\"translateY(\".concat(y>0?y:0,\"px)\");})}}):{}),{},{\"aria-label\":\"dialog content\",minHeight:minHeight,maxHeight:maxHeight,mobile:isMobile,children:[!initialFocusRef&&isMobile?/*#__PURE__*/_jsx(\"div\",{tabIndex:1}):null,children]}))},key);})});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/components/Modal/index.tsx"],"names":["React","animated","useTransition","useSpring","DialogOverlay","DialogContent","isMobile","transparentize","useGesture","AnimatedDialogOverlay","StyledDialogOverlay","styled","theme","modalBG","AnimatedDialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","rest","attrs","bg0","bg1","shadow1","css","mediaWidth","upToMedium","upToSmall","Modal","onDismiss","initialFocusRef","children","fadeTransition","config","duration","from","opacity","enter","leave","y","mass","tension","friction","set","bind","onDrag","state","down","movement","velocity","direction","map","item","key","props","style","transform","interpolate"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { animated, useTransition, useSpring } from 'react-spring'\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\nimport { isMobile } from 'react-device-detect'\nimport { transparentize } from 'polished'\nimport { useGesture } from 'react-use-gesture'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 2;\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog',\n})`\n  overflow-y: auto;\n\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg0};\n    border: 1px solid ${({ theme }) => theme.bg1};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: 50vw;\n    overflow-y: auto;\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: 420px;\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${\n        mobile &&\n        css`\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        `\n      }\n    `}\n  }\n`\n\ninterface ModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  children?: React.ReactNode\n}\n\nexport default function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  children,\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, null, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: (state) => {\n      set({\n        y: state.down ? state.movement[1] : 0,\n      })\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    },\n  })\n\n  return (\n    <>\n      {fadeTransition.map(\n        ({ item, key, props }) =>\n          item && (\n            <StyledDialogOverlay\n              key={key}\n              style={props}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.interpolate((y) => `translateY(${(y as number) > 0 ? y : 0}px)`) },\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}