{"ast":null,"code":"import{ThemeContext as _ThemeContext}from\"styled-components\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{useContext}from'react';import{getExplorerLink,ExplorerDataType}from'../../utils/getExplorerLink';import Modal from'../Modal';import{ExternalLink}from'../../theme';import{Text}from'rebass';import{CloseIcon,CustomLightSpinner}from'../../theme/components';import{RowBetween,RowFixed}from'../Row';import{AlertCircle,AlertTriangle,ArrowUpCircle,CheckCircle}from'react-feather';import{ButtonPrimary,ButtonLight}from'../Button';import{AutoColumn,ColumnCenter}from'../Column';import Circle from\"../../assets/images/blue-loader.svg\";import MetaMaskLogo from'../../assets/images/metamask.png';import{useActiveWeb3React}from'../../hooks/web3';import useAddTokenToMetamask from'hooks/useAddTokenToMetamask';import{CHAIN_INFO,L2_CHAIN_IDS}from'constants/chains';import{useIsTransactionConfirmed,useTransaction}from'state/transactions/hooks';import Badge from'components/Badge';import AnimatedConfirmation from'./AnimatedConfirmation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=_styled.div.withConfig({componentId:\"sc-12bigbw-0\"})([\"width:100%;padding:1rem;\"]);var Section=_styled(AutoColumn).withConfig({componentId:\"sc-12bigbw-1\"})([\"padding:\",\";\"],function(_ref){var inline=_ref.inline;return inline?'0':'0';});var BottomSection=_styled(Section).withConfig({componentId:\"sc-12bigbw-2\"})([\"border-bottom-left-radius:20px;border-bottom-right-radius:20px;\"]);var ConfirmedIcon=_styled(ColumnCenter).withConfig({componentId:\"sc-12bigbw-3\"})([\"padding:\",\";\"],function(_ref2){var inline=_ref2.inline;return inline?'20px 0':'32px 0;';});var StyledLogo=_styled.img.withConfig({componentId:\"sc-12bigbw-4\"})([\"height:16px;width:16px;margin-left:6px;\"]);function ConfirmationPendingContent(_ref3){var onDismiss=_ref3.onDismiss,pendingText=_ref3.pendingText,inline=_ref3.inline;return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[!inline&&/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),/*#__PURE__*/_jsx(ConfirmedIcon,{inline:inline,children:/*#__PURE__*/_jsx(CustomLightSpinner,{src:Circle,alt:\"loader\",size:inline?'40px':'90px'})}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"12px\",justify:'center',children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,textAlign:\"center\",children:/*#__PURE__*/_jsx(Trans,{id:\"Waiting For Confirmation\"})}),/*#__PURE__*/_jsx(Text,{fontWeight:400,fontSize:16,textAlign:\"center\",children:pendingText}),/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:14,color:\"#565A69\",textAlign:\"center\",marginBottom:\"12px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Confirm this transaction in your wallet\"})})]})]})});}function TransactionSubmittedContent(_ref4){var _library$provider;var onDismiss=_ref4.onDismiss,chainId=_ref4.chainId,hash=_ref4.hash,currencyToAdd=_ref4.currencyToAdd,inline=_ref4.inline;var theme=useContext(_ThemeContext);var _useActiveWeb3React=useActiveWeb3React(),library=_useActiveWeb3React.library;var _useAddTokenToMetamas=useAddTokenToMetamask(currencyToAdd),addToken=_useAddTokenToMetamas.addToken,success=_useAddTokenToMetamas.success;return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(Section,{inline:inline,children:[!inline&&/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),/*#__PURE__*/_jsx(ConfirmedIcon,{inline:inline,children:/*#__PURE__*/_jsx(ArrowUpCircle,{strokeWidth:0.5,size:inline?'40px':'90px',color:theme.primary1})}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"12px\",justify:'center',children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,textAlign:\"center\",children:/*#__PURE__*/_jsx(Trans,{id:\"Transaction Submitted\"})}),chainId&&hash&&/*#__PURE__*/_jsx(ExternalLink,{href:getExplorerLink(chainId,hash,ExplorerDataType.TRANSACTION),children:/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:14,color:theme.primary1,children:/*#__PURE__*/_jsx(Trans,{id:\"View on Explorer\"})})}),currencyToAdd&&(library===null||library===void 0?void 0:(_library$provider=library.provider)===null||_library$provider===void 0?void 0:_library$provider.isMetaMask)&&/*#__PURE__*/_jsx(ButtonLight,{mt:\"12px\",padding:\"6px 12px\",width:\"fit-content\",onClick:addToken,children:!success?/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Trans,{id:\"Add {0} to Metamask <0/>\",values:{0:currencyToAdd.symbol},components:{0:/*#__PURE__*/_jsx(StyledLogo,{src:MetaMaskLogo})}})}):/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Added {0}\",values:{0:currencyToAdd.symbol}}),/*#__PURE__*/_jsx(CheckCircle,{size:'16px',stroke:theme.green1,style:{marginLeft:'6px'}})]})}),/*#__PURE__*/_jsx(ButtonPrimary,{onClick:onDismiss,style:{margin:'20px 0 0 0'},children:/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,children:inline?/*#__PURE__*/_jsx(Trans,{id:\"Return\"}):/*#__PURE__*/_jsx(Trans,{id:\"Close\"})})})]})]})});}export function ConfirmationModalContent(_ref5){var title=_ref5.title,bottomContent=_ref5.bottomContent,onDismiss=_ref5.onDismiss,topContent=_ref5.topContent;return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:16,children:title}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),topContent()]}),bottomContent&&/*#__PURE__*/_jsx(BottomSection,{gap:\"12px\",children:bottomContent()})]});}export function TransactionErrorContent(_ref6){var message=_ref6.message,onDismiss=_ref6.onDismiss;var theme=useContext(_ThemeContext);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,children:/*#__PURE__*/_jsx(Trans,{id:\"Error\"})}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),/*#__PURE__*/_jsxs(AutoColumn,{style:{marginTop:20,padding:'2rem 0'},gap:\"24px\",justify:\"center\",children:[/*#__PURE__*/_jsx(AlertTriangle,{color:theme.red1,style:{strokeWidth:1.5},size:64}),/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:16,color:theme.red1,style:{textAlign:'center',width:'85%',wordBreak:'break-word'},children:message})]})]}),/*#__PURE__*/_jsx(BottomSection,{gap:\"12px\",children:/*#__PURE__*/_jsx(ButtonPrimary,{onClick:onDismiss,children:/*#__PURE__*/_jsx(Trans,{id:\"Dismiss\"})})})]});}function L2Content(_ref7){var _transaction$receipt,_ref8,_transaction$summary;var onDismiss=_ref7.onDismiss,chainId=_ref7.chainId,hash=_ref7.hash,pendingText=_ref7.pendingText,inline=_ref7.inline;var theme=useContext(_ThemeContext);var transaction=useTransaction(hash);var confirmed=useIsTransactionConfirmed(hash);var transactionSuccess=(transaction===null||transaction===void 0?void 0:(_transaction$receipt=transaction.receipt)===null||_transaction$receipt===void 0?void 0:_transaction$receipt.status)===1;// convert unix time difference to seconds\nvar secondsToConfirm=(transaction===null||transaction===void 0?void 0:transaction.confirmedTime)?(transaction.confirmedTime-transaction.addedTime)/1000:undefined;var info=CHAIN_INFO[chainId];return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(Section,{inline:inline,children:[!inline&&/*#__PURE__*/_jsxs(RowBetween,{mb:\"16px\",children:[/*#__PURE__*/_jsx(Badge,{children:/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(StyledLogo,{src:info.logoUrl,style:{margin:'0 8px 0 0'}}),info.label]})}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),/*#__PURE__*/_jsx(ConfirmedIcon,{inline:inline,children:confirmed?transactionSuccess?/*#__PURE__*/ // <CheckCircle strokeWidth={1} size={inline ? '40px' : '90px'} color={theme.green1} />\n_jsx(AnimatedConfirmation,{}):/*#__PURE__*/_jsx(AlertCircle,{strokeWidth:1,size:inline?'40px':'90px',color:theme.red1}):/*#__PURE__*/_jsx(CustomLightSpinner,{src:Circle,alt:\"loader\",size:inline?'40px':'90px'})}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"12px\",justify:'center',children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,textAlign:\"center\",children:!hash?/*#__PURE__*/_jsx(Trans,{id:\"Confirm transaction in wallet\"}):!confirmed?/*#__PURE__*/_jsx(Trans,{id:\"Transaction Submitted\"}):transactionSuccess?/*#__PURE__*/_jsx(Trans,{id:\"Success\"}):/*#__PURE__*/_jsx(Trans,{id:\"Error\"})}),/*#__PURE__*/_jsx(Text,{fontWeight:400,fontSize:16,textAlign:\"center\",children:(_ref8=(_transaction$summary=transaction===null||transaction===void 0?void 0:transaction.summary)!==null&&_transaction$summary!==void 0?_transaction$summary:pendingText)!==null&&_ref8!==void 0?_ref8:''}),chainId&&hash?/*#__PURE__*/_jsx(ExternalLink,{href:getExplorerLink(chainId,hash,ExplorerDataType.TRANSACTION),children:/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:14,color:theme.primary1,children:/*#__PURE__*/_jsx(Trans,{id:\"View on Explorer\"})})}):/*#__PURE__*/_jsx(\"div\",{style:{height:'17px'}}),/*#__PURE__*/_jsx(Text,{color:theme.text3,style:{margin:'20px 0 0 0'},fontSize:'14px',children:!secondsToConfirm?/*#__PURE__*/_jsx(\"div\",{style:{height:'24px'}}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Trans,{id:\"Transaction completed in\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:500,marginLeft:'4px',color:theme.text1},children:[secondsToConfirm,\" seconds \\uD83C\\uDF89\"]})]})}),/*#__PURE__*/_jsx(ButtonPrimary,{onClick:onDismiss,style:{margin:'4px 0 0 0'},children:/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,children:inline?/*#__PURE__*/_jsx(Trans,{id:\"Return\"}):/*#__PURE__*/_jsx(Trans,{id:\"Close\"})})})]})]})});}export default function TransactionConfirmationModal(_ref9){var isOpen=_ref9.isOpen,onDismiss=_ref9.onDismiss,attemptingTxn=_ref9.attemptingTxn,hash=_ref9.hash,pendingText=_ref9.pendingText,content=_ref9.content,currencyToAdd=_ref9.currencyToAdd;var _useActiveWeb3React2=useActiveWeb3React(),chainId=_useActiveWeb3React2.chainId;var isL2=Boolean(chainId&&L2_CHAIN_IDS.includes(chainId));if(!chainId)return null;// confirmation screen\nreturn/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onDismiss:onDismiss,maxHeight:90,children:isL2&&(hash||attemptingTxn)?/*#__PURE__*/_jsx(L2Content,{chainId:chainId,hash:hash,onDismiss:onDismiss,pendingText:pendingText}):attemptingTxn?/*#__PURE__*/_jsx(ConfirmationPendingContent,{onDismiss:onDismiss,pendingText:pendingText}):hash?/*#__PURE__*/_jsx(TransactionSubmittedContent,{chainId:chainId,hash:hash,onDismiss:onDismiss,currencyToAdd:currencyToAdd}):content()});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/components/TransactionConfirmationModal/index.tsx"],"names":["useContext","getExplorerLink","ExplorerDataType","Modal","ExternalLink","Text","CloseIcon","CustomLightSpinner","RowBetween","RowFixed","AlertCircle","AlertTriangle","ArrowUpCircle","CheckCircle","ButtonPrimary","ButtonLight","AutoColumn","ColumnCenter","MetaMaskLogo","useActiveWeb3React","useAddTokenToMetamask","CHAIN_INFO","L2_CHAIN_IDS","useIsTransactionConfirmed","useTransaction","Badge","AnimatedConfirmation","Wrapper","styled","div","Section","inline","BottomSection","ConfirmedIcon","StyledLogo","img","ConfirmationPendingContent","onDismiss","pendingText","Circle","TransactionSubmittedContent","chainId","hash","currencyToAdd","theme","ThemeContext","library","addToken","success","primary1","TRANSACTION","provider","isMetaMask","symbol","green1","marginLeft","margin","ConfirmationModalContent","title","bottomContent","topContent","TransactionErrorContent","message","marginTop","padding","red1","strokeWidth","textAlign","width","wordBreak","L2Content","transaction","confirmed","transactionSuccess","receipt","status","secondsToConfirm","confirmedTime","addedTime","undefined","info","logoUrl","label","summary","height","text3","fontWeight","color","text1","TransactionConfirmationModal","isOpen","attemptingTxn","content","isL2","Boolean","includes"],"mappings":"qIACA,OAAoBA,UAApB,KAAsC,OAAtC,CAEA,OAASC,eAAT,CAA0BC,gBAA1B,KAAkD,6BAAlD,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,YAAT,KAA6B,aAA7B,CACA,OAASC,IAAT,KAAqB,QAArB,CACA,OAASC,SAAT,CAAoBC,kBAApB,KAA8C,wBAA9C,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,QAArC,CACA,OAASC,WAAT,CAAsBC,aAAtB,CAAqCC,aAArC,CAAoDC,WAApD,KAAuE,eAAvE,CACA,OAASC,aAAT,CAAwBC,WAAxB,KAA2C,WAA3C,CACA,OAASC,UAAT,CAAqBC,YAArB,KAAyC,WAAzC,C,wDAEA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,OAASC,kBAAT,KAAmC,kBAAnC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,6BAAlC,CAEA,OAASC,UAAT,CAAqBC,YAArB,KAA6D,kBAA7D,CACA,OAASC,yBAAT,CAAoCC,cAApC,KAA0D,0BAA1D,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wBAAjC,C,wFAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAM,CAACC,GAAV,uEAAb,CAIA,GAAMC,CAAAA,OAAO,CAAGF,OAAM,CAACZ,UAAD,CAAT,2DACA,kBAAGe,CAAAA,MAAH,MAAGA,MAAH,OAAiBA,CAAAA,MAAM,CAAG,GAAH,CAAS,GAAhC,EADA,CAAb,CAIA,GAAMC,CAAAA,aAAa,CAAGJ,OAAM,CAACE,OAAD,CAAT,8GAAnB,CAKA,GAAMG,CAAAA,aAAa,CAAGL,OAAM,CAACX,YAAD,CAAT,2DACN,mBAAGc,CAAAA,MAAH,OAAGA,MAAH,OAAiBA,CAAAA,MAAM,CAAG,QAAH,CAAc,SAArC,EADM,CAAnB,CAIA,GAAMG,CAAAA,UAAU,CAAGN,OAAM,CAACO,GAAV,sFAAhB,CAMA,QAASC,CAAAA,0BAAT,OAQG,IAPDC,CAAAA,SAOC,OAPDA,SAOC,CANDC,WAMC,OANDA,WAMC,CALDP,MAKC,OALDA,MAKC,CACD,mBACE,KAAC,OAAD,wBACE,MAAC,UAAD,EAAY,GAAG,CAAC,IAAhB,WACG,CAACA,MAAD,eACC,MAAC,UAAD,yBACE,cADF,cAEE,KAAC,SAAD,EAAW,OAAO,CAAEM,SAApB,EAFF,GAFJ,cAOE,KAAC,aAAD,EAAe,MAAM,CAAEN,MAAvB,uBACE,KAAC,kBAAD,EAAoB,GAAG,CAAEQ,MAAzB,CAAiC,GAAG,CAAC,QAArC,CAA8C,IAAI,CAAER,MAAM,CAAG,MAAH,CAAY,MAAtE,EADF,EAPF,cAUE,MAAC,UAAD,EAAY,GAAG,CAAC,MAAhB,CAAuB,OAAO,CAAE,QAAhC,wBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,SAAS,CAAC,QAA/C,uBACE,2CADF,EADF,cAIE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,SAAS,CAAC,QAA/C,UACGO,WADH,EAJF,cAOE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,KAAK,CAAC,SAA3C,CAAqD,SAAS,CAAC,QAA/D,CAAwE,YAAY,CAAC,MAArF,uBACE,0DADF,EAPF,GAVF,GADF,EADF,CA0BD,CACD,QAASE,CAAAA,2BAAT,OAYG,0BAXDH,CAAAA,SAWC,OAXDA,SAWC,CAVDI,OAUC,OAVDA,OAUC,CATDC,IASC,OATDA,IASC,CARDC,aAQC,OARDA,aAQC,CAPDZ,MAOC,OAPDA,MAOC,CACD,GAAMa,CAAAA,KAAK,CAAG5C,UAAU,CAAC6C,aAAD,CAAxB,CAEA,wBAAoB1B,kBAAkB,EAAtC,CAAQ2B,OAAR,qBAAQA,OAAR,CAEA,0BAA8B1B,qBAAqB,CAACuB,aAAD,CAAnD,CAAQI,QAAR,uBAAQA,QAAR,CAAkBC,OAAlB,uBAAkBA,OAAlB,CAEA,mBACE,KAAC,OAAD,wBACE,MAAC,OAAD,EAAS,MAAM,CAAEjB,MAAjB,WACG,CAACA,MAAD,eACC,MAAC,UAAD,yBACE,cADF,cAEE,KAAC,SAAD,EAAW,OAAO,CAAEM,SAApB,EAFF,GAFJ,cAOE,KAAC,aAAD,EAAe,MAAM,CAAEN,MAAvB,uBACE,KAAC,aAAD,EAAe,WAAW,CAAE,GAA5B,CAAiC,IAAI,CAAEA,MAAM,CAAG,MAAH,CAAY,MAAzD,CAAiE,KAAK,CAAEa,KAAK,CAACK,QAA9E,EADF,EAPF,cAUE,MAAC,UAAD,EAAY,GAAG,CAAC,MAAhB,CAAuB,OAAO,CAAE,QAAhC,wBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,SAAS,CAAC,QAA/C,uBACE,wCADF,EADF,CAIGR,OAAO,EAAIC,IAAX,eACC,KAAC,YAAD,EAAc,IAAI,CAAEzC,eAAe,CAACwC,OAAD,CAAUC,IAAV,CAAgBxC,gBAAgB,CAACgD,WAAjC,CAAnC,uBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,KAAK,CAAEN,KAAK,CAACK,QAAlD,uBACE,mCADF,EADF,EALJ,CAWGN,aAAa,GAAIG,OAAJ,SAAIA,OAAJ,oCAAIA,OAAO,CAAEK,QAAb,4CAAI,kBAAmBC,UAAvB,CAAb,eACC,KAAC,WAAD,EAAa,EAAE,CAAC,MAAhB,CAAuB,OAAO,CAAC,UAA/B,CAA0C,KAAK,CAAC,aAAhD,CAA8D,OAAO,CAAEL,QAAvE,UACG,CAACC,OAAD,cACC,KAAC,QAAD,wBACE,oDACOL,aAAa,CAACU,MADrB,6BACyC,KAAC,UAAD,EAAY,GAAG,CAAEnC,YAAjB,EADzC,GADF,EADD,cAOC,MAAC,QAAD,yBACE,qCAAcyB,aAAa,CAACU,MAA5B,GADF,cAEE,KAAC,WAAD,EAAa,IAAI,CAAE,MAAnB,CAA2B,MAAM,CAAET,KAAK,CAACU,MAAzC,CAAiD,KAAK,CAAE,CAAEC,UAAU,CAAE,KAAd,CAAxD,EAFF,GARJ,EAZJ,cA2BE,KAAC,aAAD,EAAe,OAAO,CAAElB,SAAxB,CAAmC,KAAK,CAAE,CAAEmB,MAAM,CAAE,YAAV,CAA1C,uBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,UACGzB,MAAM,cAAG,yBAAH,cAA2B,wBADpC,EADF,EA3BF,GAVF,GADF,EADF,CAgDD,CAED,MAAO,SAAS0B,CAAAA,wBAAT,OAUJ,IATDC,CAAAA,KASC,OATDA,KASC,CARDC,aAQC,OARDA,aAQC,CAPDtB,SAOC,OAPDA,SAOC,CANDuB,UAMC,OANDA,UAMC,CACD,mBACE,MAAC,OAAD,yBACE,MAAC,OAAD,yBACE,MAAC,UAAD,yBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,UACGF,KADH,EADF,cAIE,KAAC,SAAD,EAAW,OAAO,CAAErB,SAApB,EAJF,GADF,CAOGuB,UAAU,EAPb,GADF,CAUGD,aAAa,eAAI,KAAC,aAAD,EAAe,GAAG,CAAC,MAAnB,UAA2BA,aAAa,EAAxC,EAVpB,GADF,CAcD,CAED,MAAO,SAASE,CAAAA,uBAAT,OAAwG,IAArEC,CAAAA,OAAqE,OAArEA,OAAqE,CAA5DzB,SAA4D,OAA5DA,SAA4D,CAC7G,GAAMO,CAAAA,KAAK,CAAG5C,UAAU,CAAC6C,aAAD,CAAxB,CACA,mBACE,MAAC,OAAD,yBACE,MAAC,OAAD,yBACE,MAAC,UAAD,yBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,uBACE,wBADF,EADF,cAIE,KAAC,SAAD,EAAW,OAAO,CAAER,SAApB,EAJF,GADF,cAOE,MAAC,UAAD,EAAY,KAAK,CAAE,CAAE0B,SAAS,CAAE,EAAb,CAAiBC,OAAO,CAAE,QAA1B,CAAnB,CAAyD,GAAG,CAAC,MAA7D,CAAoE,OAAO,CAAC,QAA5E,wBACE,KAAC,aAAD,EAAe,KAAK,CAAEpB,KAAK,CAACqB,IAA5B,CAAkC,KAAK,CAAE,CAAEC,WAAW,CAAE,GAAf,CAAzC,CAA+D,IAAI,CAAE,EAArE,EADF,cAEE,KAAC,IAAD,EACE,UAAU,CAAE,GADd,CAEE,QAAQ,CAAE,EAFZ,CAGE,KAAK,CAAEtB,KAAK,CAACqB,IAHf,CAIE,KAAK,CAAE,CAAEE,SAAS,CAAE,QAAb,CAAuBC,KAAK,CAAE,KAA9B,CAAqCC,SAAS,CAAE,YAAhD,CAJT,UAMGP,OANH,EAFF,GAPF,GADF,cAoBE,KAAC,aAAD,EAAe,GAAG,CAAC,MAAnB,uBACE,KAAC,aAAD,EAAe,OAAO,CAAEzB,SAAxB,uBACE,0BADF,EADF,EApBF,GADF,CA4BD,CAED,QAASiC,CAAAA,SAAT,OAaG,wDAZDjC,CAAAA,SAYC,OAZDA,SAYC,CAXDI,OAWC,OAXDA,OAWC,CAVDC,IAUC,OAVDA,IAUC,CATDJ,WASC,OATDA,WASC,CARDP,MAQC,OARDA,MAQC,CACD,GAAMa,CAAAA,KAAK,CAAG5C,UAAU,CAAC6C,aAAD,CAAxB,CAEA,GAAM0B,CAAAA,WAAW,CAAG/C,cAAc,CAACkB,IAAD,CAAlC,CACA,GAAM8B,CAAAA,SAAS,CAAGjD,yBAAyB,CAACmB,IAAD,CAA3C,CACA,GAAM+B,CAAAA,kBAAkB,CAAG,CAAAF,WAAW,OAAX,EAAAA,WAAW,SAAX,8BAAAA,WAAW,CAAEG,OAAb,oEAAsBC,MAAtB,IAAiC,CAA5D,CAEA;AACA,GAAMC,CAAAA,gBAAgB,CAAG,CAAAL,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAEM,aAAb,EACrB,CAACN,WAAW,CAACM,aAAZ,CAA4BN,WAAW,CAACO,SAAzC,EAAsD,IADjC,CAErBC,SAFJ,CAIA,GAAMC,CAAAA,IAAI,CAAG3D,UAAU,CAACoB,OAAD,CAAvB,CAEA,mBACE,KAAC,OAAD,wBACE,MAAC,OAAD,EAAS,MAAM,CAAEV,MAAjB,WACG,CAACA,MAAD,eACC,MAAC,UAAD,EAAY,EAAE,CAAC,MAAf,wBACE,KAAC,KAAD,wBACE,MAAC,QAAD,yBACE,KAAC,UAAD,EAAY,GAAG,CAAEiD,IAAI,CAACC,OAAtB,CAA+B,KAAK,CAAE,CAAEzB,MAAM,CAAE,WAAV,CAAtC,EADF,CAEGwB,IAAI,CAACE,KAFR,GADF,EADF,cAOE,KAAC,SAAD,EAAW,OAAO,CAAE7C,SAApB,EAPF,GAFJ,cAYE,KAAC,aAAD,EAAe,MAAM,CAAEN,MAAvB,UACGyC,SAAS,CACRC,kBAAkB,eAChB;AACA,KAAC,oBAAD,IAFgB,cAIhB,KAAC,WAAD,EAAa,WAAW,CAAE,CAA1B,CAA6B,IAAI,CAAE1C,MAAM,CAAG,MAAH,CAAY,MAArD,CAA6D,KAAK,CAAEa,KAAK,CAACqB,IAA1E,EALM,cAQR,KAAC,kBAAD,EAAoB,GAAG,CAAE1B,MAAzB,CAAiC,GAAG,CAAC,QAArC,CAA8C,IAAI,CAAER,MAAM,CAAG,MAAH,CAAY,MAAtE,EATJ,EAZF,cAwBE,MAAC,UAAD,EAAY,GAAG,CAAC,MAAhB,CAAuB,OAAO,CAAE,QAAhC,wBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,SAAS,CAAC,QAA/C,UACG,CAACW,IAAD,cACC,gDADD,CAEG,CAAC8B,SAAD,cACF,wCADE,CAEAC,kBAAkB,cACpB,0BADoB,cAGpB,wBARJ,EADF,cAYE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,SAAS,CAAC,QAA/C,uCACGF,WADH,SACGA,WADH,iBACGA,WAAW,CAAEY,OADhB,6DAC2B7C,WAD3B,+BAC0C,EAD1C,EAZF,CAeGG,OAAO,EAAIC,IAAX,cACC,KAAC,YAAD,EAAc,IAAI,CAAEzC,eAAe,CAACwC,OAAD,CAAUC,IAAV,CAAgBxC,gBAAgB,CAACgD,WAAjC,CAAnC,uBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,CAAqC,KAAK,CAAEN,KAAK,CAACK,QAAlD,uBACE,mCADF,EADF,EADD,cAOC,YAAK,KAAK,CAAE,CAAEmC,MAAM,CAAE,MAAV,CAAZ,EAtBJ,cAwBE,KAAC,IAAD,EAAM,KAAK,CAAExC,KAAK,CAACyC,KAAnB,CAA0B,KAAK,CAAE,CAAE7B,MAAM,CAAE,YAAV,CAAjC,CAA2D,QAAQ,CAAE,MAArE,UACG,CAACoB,gBAAD,cACC,YAAK,KAAK,CAAE,CAAEQ,MAAM,CAAE,MAAV,CAAZ,EADD,cAGC,oCACE,2CADF,cAEE,cAAM,KAAK,CAAE,CAAEE,UAAU,CAAE,GAAd,CAAmB/B,UAAU,CAAE,KAA/B,CAAsCgC,KAAK,CAAE3C,KAAK,CAAC4C,KAAnD,CAAb,WACGZ,gBADH,2BAFF,GAJJ,EAxBF,cAoCE,KAAC,aAAD,EAAe,OAAO,CAAEvC,SAAxB,CAAmC,KAAK,CAAE,CAAEmB,MAAM,CAAE,WAAV,CAA1C,uBACE,KAAC,IAAD,EAAM,UAAU,CAAE,GAAlB,CAAuB,QAAQ,CAAE,EAAjC,UACGzB,MAAM,cAAG,yBAAH,cAA2B,wBADpC,EADF,EApCF,GAxBF,GADF,EADF,CAuED,CAYD,cAAe,SAAS0D,CAAAA,4BAAT,OAQY,IAPzBC,CAAAA,MAOyB,OAPzBA,MAOyB,CANzBrD,SAMyB,OANzBA,SAMyB,CALzBsD,aAKyB,OALzBA,aAKyB,CAJzBjD,IAIyB,OAJzBA,IAIyB,CAHzBJ,WAGyB,OAHzBA,WAGyB,CAFzBsD,OAEyB,OAFzBA,OAEyB,CADzBjD,aACyB,OADzBA,aACyB,CACzB,yBAAoBxB,kBAAkB,EAAtC,CAAQsB,OAAR,sBAAQA,OAAR,CAEA,GAAMoD,CAAAA,IAAI,CAAGC,OAAO,CAACrD,OAAO,EAAInB,YAAY,CAACyE,QAAb,CAAsBtD,OAAtB,CAAZ,CAApB,CAEA,GAAI,CAACA,OAAL,CAAc,MAAO,KAAP,CAEd;AACA,mBACE,KAAC,KAAD,EAAO,MAAM,CAAEiD,MAAf,CAAuB,SAAS,CAAErD,SAAlC,CAA6C,SAAS,CAAE,EAAxD,UACGwD,IAAI,GAAKnD,IAAI,EAAIiD,aAAb,CAAJ,cACC,KAAC,SAAD,EAAW,OAAO,CAAElD,OAApB,CAA6B,IAAI,CAAEC,IAAnC,CAAyC,SAAS,CAAEL,SAApD,CAA+D,WAAW,CAAEC,WAA5E,EADD,CAEGqD,aAAa,cACf,KAAC,0BAAD,EAA4B,SAAS,CAAEtD,SAAvC,CAAkD,WAAW,CAAEC,WAA/D,EADe,CAEbI,IAAI,cACN,KAAC,2BAAD,EACE,OAAO,CAAED,OADX,CAEE,IAAI,CAAEC,IAFR,CAGE,SAAS,CAAEL,SAHb,CAIE,aAAa,CAAEM,aAJjB,EADM,CAQNiD,OAAO,EAbX,EADF,CAkBD","sourcesContent":["import { Currency } from '@uniswap/sdk-core'\nimport { ReactNode, useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components/macro'\nimport { getExplorerLink, ExplorerDataType } from '../../utils/getExplorerLink'\nimport Modal from '../Modal'\nimport { ExternalLink } from '../../theme'\nimport { Text } from 'rebass'\nimport { CloseIcon, CustomLightSpinner } from '../../theme/components'\nimport { RowBetween, RowFixed } from '../Row'\nimport { AlertCircle, AlertTriangle, ArrowUpCircle, CheckCircle } from 'react-feather'\nimport { ButtonPrimary, ButtonLight } from '../Button'\nimport { AutoColumn, ColumnCenter } from '../Column'\nimport Circle from '../../assets/images/blue-loader.svg'\nimport MetaMaskLogo from '../../assets/images/metamask.png'\nimport { useActiveWeb3React } from '../../hooks/web3'\nimport useAddTokenToMetamask from 'hooks/useAddTokenToMetamask'\nimport { Trans } from '@lingui/macro'\nimport { CHAIN_INFO, L2_CHAIN_IDS, SupportedL2ChainId } from 'constants/chains'\nimport { useIsTransactionConfirmed, useTransaction } from 'state/transactions/hooks'\nimport Badge from 'components/Badge'\nimport AnimatedConfirmation from './AnimatedConfirmation'\n\nconst Wrapper = styled.div`\n  width: 100%;\n  padding: 1rem;\n`\nconst Section = styled(AutoColumn)<{ inline?: boolean }>`\n  padding: ${({ inline }) => (inline ? '0' : '0')};\n`\n\nconst BottomSection = styled(Section)`\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n`\n\nconst ConfirmedIcon = styled(ColumnCenter)<{ inline?: boolean }>`\n  padding: ${({ inline }) => (inline ? '20px 0' : '32px 0;')};\n`\n\nconst StyledLogo = styled.img`\n  height: 16px;\n  width: 16px;\n  margin-left: 6px;\n`\n\nfunction ConfirmationPendingContent({\n  onDismiss,\n  pendingText,\n  inline,\n}: {\n  onDismiss: () => void\n  pendingText: ReactNode\n  inline?: boolean // not in modal\n}) {\n  return (\n    <Wrapper>\n      <AutoColumn gap=\"md\">\n        {!inline && (\n          <RowBetween>\n            <div />\n            <CloseIcon onClick={onDismiss} />\n          </RowBetween>\n        )}\n        <ConfirmedIcon inline={inline}>\n          <CustomLightSpinner src={Circle} alt=\"loader\" size={inline ? '40px' : '90px'} />\n        </ConfirmedIcon>\n        <AutoColumn gap=\"12px\" justify={'center'}>\n          <Text fontWeight={500} fontSize={20} textAlign=\"center\">\n            <Trans>Waiting For Confirmation</Trans>\n          </Text>\n          <Text fontWeight={400} fontSize={16} textAlign=\"center\">\n            {pendingText}\n          </Text>\n          <Text fontWeight={500} fontSize={14} color=\"#565A69\" textAlign=\"center\" marginBottom=\"12px\">\n            <Trans>Confirm this transaction in your wallet</Trans>\n          </Text>\n        </AutoColumn>\n      </AutoColumn>\n    </Wrapper>\n  )\n}\nfunction TransactionSubmittedContent({\n  onDismiss,\n  chainId,\n  hash,\n  currencyToAdd,\n  inline,\n}: {\n  onDismiss: () => void\n  hash: string | undefined\n  chainId: number\n  currencyToAdd?: Currency | undefined\n  inline?: boolean // not in modal\n}) {\n  const theme = useContext(ThemeContext)\n\n  const { library } = useActiveWeb3React()\n\n  const { addToken, success } = useAddTokenToMetamask(currencyToAdd)\n\n  return (\n    <Wrapper>\n      <Section inline={inline}>\n        {!inline && (\n          <RowBetween>\n            <div />\n            <CloseIcon onClick={onDismiss} />\n          </RowBetween>\n        )}\n        <ConfirmedIcon inline={inline}>\n          <ArrowUpCircle strokeWidth={0.5} size={inline ? '40px' : '90px'} color={theme.primary1} />\n        </ConfirmedIcon>\n        <AutoColumn gap=\"12px\" justify={'center'}>\n          <Text fontWeight={500} fontSize={20} textAlign=\"center\">\n            <Trans>Transaction Submitted</Trans>\n          </Text>\n          {chainId && hash && (\n            <ExternalLink href={getExplorerLink(chainId, hash, ExplorerDataType.TRANSACTION)}>\n              <Text fontWeight={500} fontSize={14} color={theme.primary1}>\n                <Trans>View on Explorer</Trans>\n              </Text>\n            </ExternalLink>\n          )}\n          {currencyToAdd && library?.provider?.isMetaMask && (\n            <ButtonLight mt=\"12px\" padding=\"6px 12px\" width=\"fit-content\" onClick={addToken}>\n              {!success ? (\n                <RowFixed>\n                  <Trans>\n                    Add {currencyToAdd.symbol} to Metamask <StyledLogo src={MetaMaskLogo} />\n                  </Trans>\n                </RowFixed>\n              ) : (\n                <RowFixed>\n                  <Trans>Added {currencyToAdd.symbol} </Trans>\n                  <CheckCircle size={'16px'} stroke={theme.green1} style={{ marginLeft: '6px' }} />\n                </RowFixed>\n              )}\n            </ButtonLight>\n          )}\n          <ButtonPrimary onClick={onDismiss} style={{ margin: '20px 0 0 0' }}>\n            <Text fontWeight={500} fontSize={20}>\n              {inline ? <Trans>Return</Trans> : <Trans>Close</Trans>}\n            </Text>\n          </ButtonPrimary>\n        </AutoColumn>\n      </Section>\n    </Wrapper>\n  )\n}\n\nexport function ConfirmationModalContent({\n  title,\n  bottomContent,\n  onDismiss,\n  topContent,\n}: {\n  title: ReactNode\n  onDismiss: () => void\n  topContent: () => ReactNode\n  bottomContent?: () => ReactNode | undefined\n}) {\n  return (\n    <Wrapper>\n      <Section>\n        <RowBetween>\n          <Text fontWeight={500} fontSize={16}>\n            {title}\n          </Text>\n          <CloseIcon onClick={onDismiss} />\n        </RowBetween>\n        {topContent()}\n      </Section>\n      {bottomContent && <BottomSection gap=\"12px\">{bottomContent()}</BottomSection>}\n    </Wrapper>\n  )\n}\n\nexport function TransactionErrorContent({ message, onDismiss }: { message: ReactNode; onDismiss: () => void }) {\n  const theme = useContext(ThemeContext)\n  return (\n    <Wrapper>\n      <Section>\n        <RowBetween>\n          <Text fontWeight={500} fontSize={20}>\n            <Trans>Error</Trans>\n          </Text>\n          <CloseIcon onClick={onDismiss} />\n        </RowBetween>\n        <AutoColumn style={{ marginTop: 20, padding: '2rem 0' }} gap=\"24px\" justify=\"center\">\n          <AlertTriangle color={theme.red1} style={{ strokeWidth: 1.5 }} size={64} />\n          <Text\n            fontWeight={500}\n            fontSize={16}\n            color={theme.red1}\n            style={{ textAlign: 'center', width: '85%', wordBreak: 'break-word' }}\n          >\n            {message}\n          </Text>\n        </AutoColumn>\n      </Section>\n      <BottomSection gap=\"12px\">\n        <ButtonPrimary onClick={onDismiss}>\n          <Trans>Dismiss</Trans>\n        </ButtonPrimary>\n      </BottomSection>\n    </Wrapper>\n  )\n}\n\nfunction L2Content({\n  onDismiss,\n  chainId,\n  hash,\n  pendingText,\n  inline,\n}: {\n  onDismiss: () => void\n  hash: string | undefined\n  chainId: number\n  currencyToAdd?: Currency | undefined\n  pendingText: ReactNode\n  inline?: boolean // not in modal\n}) {\n  const theme = useContext(ThemeContext)\n\n  const transaction = useTransaction(hash)\n  const confirmed = useIsTransactionConfirmed(hash)\n  const transactionSuccess = transaction?.receipt?.status === 1\n\n  // convert unix time difference to seconds\n  const secondsToConfirm = transaction?.confirmedTime\n    ? (transaction.confirmedTime - transaction.addedTime) / 1000\n    : undefined\n\n  const info = CHAIN_INFO[chainId as SupportedL2ChainId]\n\n  return (\n    <Wrapper>\n      <Section inline={inline}>\n        {!inline && (\n          <RowBetween mb=\"16px\">\n            <Badge>\n              <RowFixed>\n                <StyledLogo src={info.logoUrl} style={{ margin: '0 8px 0 0' }} />\n                {info.label}\n              </RowFixed>\n            </Badge>\n            <CloseIcon onClick={onDismiss} />\n          </RowBetween>\n        )}\n        <ConfirmedIcon inline={inline}>\n          {confirmed ? (\n            transactionSuccess ? (\n              // <CheckCircle strokeWidth={1} size={inline ? '40px' : '90px'} color={theme.green1} />\n              <AnimatedConfirmation />\n            ) : (\n              <AlertCircle strokeWidth={1} size={inline ? '40px' : '90px'} color={theme.red1} />\n            )\n          ) : (\n            <CustomLightSpinner src={Circle} alt=\"loader\" size={inline ? '40px' : '90px'} />\n          )}\n        </ConfirmedIcon>\n        <AutoColumn gap=\"12px\" justify={'center'}>\n          <Text fontWeight={500} fontSize={20} textAlign=\"center\">\n            {!hash ? (\n              <Trans>Confirm transaction in wallet</Trans>\n            ) : !confirmed ? (\n              <Trans>Transaction Submitted</Trans>\n            ) : transactionSuccess ? (\n              <Trans>Success</Trans>\n            ) : (\n              <Trans>Error</Trans>\n            )}\n          </Text>\n          <Text fontWeight={400} fontSize={16} textAlign=\"center\">\n            {transaction?.summary ?? pendingText ?? ''}\n          </Text>\n          {chainId && hash ? (\n            <ExternalLink href={getExplorerLink(chainId, hash, ExplorerDataType.TRANSACTION)}>\n              <Text fontWeight={500} fontSize={14} color={theme.primary1}>\n                <Trans>View on Explorer</Trans>\n              </Text>\n            </ExternalLink>\n          ) : (\n            <div style={{ height: '17px' }}></div>\n          )}\n          <Text color={theme.text3} style={{ margin: '20px 0 0 0' }} fontSize={'14px'}>\n            {!secondsToConfirm ? (\n              <div style={{ height: '24px' }}></div>\n            ) : (\n              <div>\n                <Trans>Transaction completed in </Trans>\n                <span style={{ fontWeight: 500, marginLeft: '4px', color: theme.text1 }}>\n                  {secondsToConfirm} seconds 🎉\n                </span>\n              </div>\n            )}\n          </Text>\n          <ButtonPrimary onClick={onDismiss} style={{ margin: '4px 0 0 0' }}>\n            <Text fontWeight={500} fontSize={20}>\n              {inline ? <Trans>Return</Trans> : <Trans>Close</Trans>}\n            </Text>\n          </ButtonPrimary>\n        </AutoColumn>\n      </Section>\n    </Wrapper>\n  )\n}\n\ninterface ConfirmationModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  hash: string | undefined\n  content: () => ReactNode\n  attemptingTxn: boolean\n  pendingText: ReactNode\n  currencyToAdd?: Currency | undefined\n}\n\nexport default function TransactionConfirmationModal({\n  isOpen,\n  onDismiss,\n  attemptingTxn,\n  hash,\n  pendingText,\n  content,\n  currencyToAdd,\n}: ConfirmationModalProps) {\n  const { chainId } = useActiveWeb3React()\n\n  const isL2 = Boolean(chainId && L2_CHAIN_IDS.includes(chainId))\n\n  if (!chainId) return null\n\n  // confirmation screen\n  return (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={90}>\n      {isL2 && (hash || attemptingTxn) ? (\n        <L2Content chainId={chainId} hash={hash} onDismiss={onDismiss} pendingText={pendingText} />\n      ) : attemptingTxn ? (\n        <ConfirmationPendingContent onDismiss={onDismiss} pendingText={pendingText} />\n      ) : hash ? (\n        <TransactionSubmittedContent\n          chainId={chainId}\n          hash={hash}\n          onDismiss={onDismiss}\n          currencyToAdd={currencyToAdd}\n        />\n      ) : (\n        content()\n      )}\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}