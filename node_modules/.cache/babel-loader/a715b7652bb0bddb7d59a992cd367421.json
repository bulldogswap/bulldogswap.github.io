{"ast":null,"code":"import _toConsumableArray from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{useCallback,useMemo}from'react';import{FixedSizeList}from'react-window';import{Text}from'rebass';import{useActiveWeb3React}from'../../hooks/web3';import{useCombinedActiveList}from'../../state/lists/hooks';import{WrappedTokenInfo}from'../../state/lists/wrappedTokenInfo';import{useCurrencyBalance}from'../../state/wallet/hooks';import{TYPE}from'../../theme';import{useIsUserAddedToken}from'../../hooks/Tokens';import Column from'../Column';import{RowFixed,RowBetween}from'../Row';import CurrencyLogo from'../CurrencyLogo';import{MouseoverTooltip}from'../Tooltip';import{MenuItem}from'./styleds';import Loader from'../Loader';import{isTokenOnList}from'../../utils';import ImportRow from'./ImportRow';import{LightGreyCard}from'components/Card';import TokenListLogo from\"../../assets/svg/tokenlist.svg\";import QuestionHelper from'components/QuestionHelper';import useTheme from'hooks/useTheme';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function currencyKey(currency){return currency.isToken?currency.address:'ETHER';}var StyledBalanceText=_styled(Text).withConfig({componentId:\"sc-1fzrxat-0\"})([\"white-space:nowrap;overflow:hidden;max-width:5rem;text-overflow:ellipsis;\"]);var Tag=_styled.div.withConfig({componentId:\"sc-1fzrxat-1\"})([\"background-color:\",\";color:\",\";font-size:14px;border-radius:4px;padding:0.25rem 0.3rem 0.25rem 0.3rem;max-width:6rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;justify-self:flex-end;margin-right:4px;\"],function(_ref){var theme=_ref.theme;return theme.bg3;},function(_ref2){var theme=_ref2.theme;return theme.text2;});var FixedContentRow=_styled.div.withConfig({componentId:\"sc-1fzrxat-2\"})([\"padding:4px 20px;height:56px;display:grid;grid-gap:16px;align-items:center;\"]);function Balance(_ref3){var balance=_ref3.balance;return/*#__PURE__*/_jsx(StyledBalanceText,{title:balance.toExact(),children:balance.toSignificant(4)});}var TagContainer=_styled.div.withConfig({componentId:\"sc-1fzrxat-3\"})([\"display:flex;justify-content:flex-end;\"]);var TokenListLogoWrapper=_styled.img.withConfig({componentId:\"sc-1fzrxat-4\"})([\"height:20px;\"]);function TokenTags(_ref4){var currency=_ref4.currency;if(!(currency instanceof WrappedTokenInfo)){return/*#__PURE__*/_jsx(\"span\",{});}var tags=currency.tags;if(!tags||tags.length===0)return/*#__PURE__*/_jsx(\"span\",{});var tag=tags[0];return/*#__PURE__*/_jsxs(TagContainer,{children:[/*#__PURE__*/_jsx(MouseoverTooltip,{text:tag.description,children:/*#__PURE__*/_jsx(Tag,{children:tag.name},tag.id)}),tags.length>1?/*#__PURE__*/_jsx(MouseoverTooltip,{text:tags.slice(1).map(function(_ref5){var name=_ref5.name,description=_ref5.description;return\"\".concat(name,\": \").concat(description);}).join('; \\n'),children:/*#__PURE__*/_jsx(Tag,{children:\"...\"})}):null]});}function CurrencyRow(_ref6){var currency=_ref6.currency,onSelect=_ref6.onSelect,isSelected=_ref6.isSelected,otherSelected=_ref6.otherSelected,style=_ref6.style,showCurrencyAmount=_ref6.showCurrencyAmount;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var key=currencyKey(currency);var selectedTokenList=useCombinedActiveList();var isOnSelectedList=isTokenOnList(selectedTokenList,currency.isToken?currency:undefined);var customAdded=useIsUserAddedToken(currency);var balance=useCurrencyBalance(account!==null&&account!==void 0?account:undefined,currency);// only show add or remove buttons if not on selected list\nreturn/*#__PURE__*/_jsxs(MenuItem,{style:style,className:\"token-item-\".concat(key),onClick:function onClick(){return isSelected?null:onSelect();},disabled:isSelected,selected:otherSelected,children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currency,size:'24px'}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsx(Text,{title:currency.name,fontWeight:500,children:currency.symbol}),/*#__PURE__*/_jsx(TYPE.darkGray,{ml:\"0px\",fontSize:'12px',fontWeight:300,children:!currency.isNative&&!isOnSelectedList&&customAdded?/*#__PURE__*/_jsx(Trans,{id:\"{0} \\u2022 Added by user\",values:{0:currency.name}}):currency.name})]}),/*#__PURE__*/_jsx(TokenTags,{currency:currency}),showCurrencyAmount&&/*#__PURE__*/_jsx(RowFixed,{style:{justifySelf:'flex-end'},children:balance?/*#__PURE__*/_jsx(Balance,{balance:balance}):account?/*#__PURE__*/_jsx(Loader,{}):null})]});}var BREAK_LINE='BREAK';function isBreakLine(x){return x===BREAK_LINE;}function BreakLineComponent(_ref7){var style=_ref7.style;var theme=useTheme();return/*#__PURE__*/_jsx(FixedContentRow,{style:style,children:/*#__PURE__*/_jsx(LightGreyCard,{padding:\"8px 12px\",$borderRadius:\"8px\",children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(TokenListLogoWrapper,{src:TokenListLogo}),/*#__PURE__*/_jsx(TYPE.main,{ml:\"6px\",fontSize:\"12px\",color:theme.text1,children:/*#__PURE__*/_jsx(Trans,{id:\"Expanded results from inactive Token Lists\"})})]}),/*#__PURE__*/_jsx(QuestionHelper,{text:/*#__PURE__*/_jsx(Trans,{id:\"Tokens from inactive lists. Import specific tokens below or click Manage to activate more lists.\"})})]})})});}export default function CurrencyList(_ref8){var height=_ref8.height,currencies=_ref8.currencies,otherListTokens=_ref8.otherListTokens,selectedCurrency=_ref8.selectedCurrency,onCurrencySelect=_ref8.onCurrencySelect,otherCurrency=_ref8.otherCurrency,fixedListRef=_ref8.fixedListRef,showImportView=_ref8.showImportView,setImportToken=_ref8.setImportToken,showCurrencyAmount=_ref8.showCurrencyAmount;var itemData=useMemo(function(){if(otherListTokens&&(otherListTokens===null||otherListTokens===void 0?void 0:otherListTokens.length)>0){return[].concat(_toConsumableArray(currencies),[BREAK_LINE],_toConsumableArray(otherListTokens));}return currencies;},[currencies,otherListTokens]);var Row=useCallback(function TokenRow(_ref9){var data=_ref9.data,index=_ref9.index,style=_ref9.style;var row=data[index];if(isBreakLine(row)){return/*#__PURE__*/_jsx(BreakLineComponent,{style:style});}var currency=row;var isSelected=Boolean(currency&&selectedCurrency&&selectedCurrency.equals(currency));var otherSelected=Boolean(currency&&otherCurrency&&otherCurrency.equals(currency));var handleSelect=function handleSelect(){return currency&&onCurrencySelect(currency);};var token=currency===null||currency===void 0?void 0:currency.wrapped;var showImport=index>currencies.length;if(showImport&&token){return/*#__PURE__*/_jsx(ImportRow,{style:style,token:token,showImportView:showImportView,setImportToken:setImportToken,dim:true});}else if(currency){return/*#__PURE__*/_jsx(CurrencyRow,{style:style,currency:currency,isSelected:isSelected,onSelect:handleSelect,otherSelected:otherSelected,showCurrencyAmount:showCurrencyAmount});}else{return null;}},[currencies.length,onCurrencySelect,otherCurrency,selectedCurrency,setImportToken,showImportView,showCurrencyAmount]);var itemKey=useCallback(function(index,data){var currency=data[index];if(isBreakLine(currency))return BREAK_LINE;return currencyKey(currency);},[]);return/*#__PURE__*/_jsx(FixedSizeList,{height:height,ref:fixedListRef,width:\"100%\",itemData:itemData,itemCount:itemData.length,itemSize:56,itemKey:itemKey,children:Row});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/components/SearchModal/CurrencyList.tsx"],"names":["useCallback","useMemo","FixedSizeList","Text","useActiveWeb3React","useCombinedActiveList","WrappedTokenInfo","useCurrencyBalance","TYPE","useIsUserAddedToken","Column","RowFixed","RowBetween","CurrencyLogo","MouseoverTooltip","MenuItem","Loader","isTokenOnList","ImportRow","LightGreyCard","QuestionHelper","useTheme","currencyKey","currency","isToken","address","StyledBalanceText","styled","Tag","div","theme","bg3","text2","FixedContentRow","Balance","balance","toExact","toSignificant","TagContainer","TokenListLogoWrapper","img","TokenTags","tags","length","tag","description","name","id","slice","map","join","CurrencyRow","onSelect","isSelected","otherSelected","style","showCurrencyAmount","account","key","selectedTokenList","isOnSelectedList","undefined","customAdded","symbol","isNative","justifySelf","BREAK_LINE","isBreakLine","x","BreakLineComponent","TokenListLogo","text1","CurrencyList","height","currencies","otherListTokens","selectedCurrency","onCurrencySelect","otherCurrency","fixedListRef","showImportView","setImportToken","itemData","Row","TokenRow","data","index","row","Boolean","equals","handleSelect","token","wrapped","showImport","itemKey"],"mappings":"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","sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Currency, CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport { CSSProperties, MutableRefObject, useCallback, useMemo } from 'react'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport styled from 'styled-components/macro'\nimport { useActiveWeb3React } from '../../hooks/web3'\nimport { useCombinedActiveList } from '../../state/lists/hooks'\nimport { WrappedTokenInfo } from '../../state/lists/wrappedTokenInfo'\nimport { useCurrencyBalance } from '../../state/wallet/hooks'\nimport { TYPE } from '../../theme'\nimport { useIsUserAddedToken } from '../../hooks/Tokens'\nimport Column from '../Column'\nimport { RowFixed, RowBetween } from '../Row'\nimport CurrencyLogo from '../CurrencyLogo'\nimport { MouseoverTooltip } from '../Tooltip'\nimport { MenuItem } from './styleds'\nimport Loader from '../Loader'\nimport { isTokenOnList } from '../../utils'\nimport ImportRow from './ImportRow'\nimport { LightGreyCard } from 'components/Card'\nimport TokenListLogo from '../../assets/svg/tokenlist.svg'\nimport QuestionHelper from 'components/QuestionHelper'\nimport useTheme from 'hooks/useTheme'\n\nfunction currencyKey(currency: Currency): string {\n  return currency.isToken ? currency.address : 'ETHER'\n}\n\nconst StyledBalanceText = styled(Text)`\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 5rem;\n  text-overflow: ellipsis;\n`\n\nconst Tag = styled.div`\n  background-color: ${({ theme }) => theme.bg3};\n  color: ${({ theme }) => theme.text2};\n  font-size: 14px;\n  border-radius: 4px;\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\n  max-width: 6rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  justify-self: flex-end;\n  margin-right: 4px;\n`\n\nconst FixedContentRow = styled.div`\n  padding: 4px 20px;\n  height: 56px;\n  display: grid;\n  grid-gap: 16px;\n  align-items: center;\n`\n\nfunction Balance({ balance }: { balance: CurrencyAmount<Currency> }) {\n  return <StyledBalanceText title={balance.toExact()}>{balance.toSignificant(4)}</StyledBalanceText>\n}\n\nconst TagContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst TokenListLogoWrapper = styled.img`\n  height: 20px;\n`\n\nfunction TokenTags({ currency }: { currency: Currency }) {\n  if (!(currency instanceof WrappedTokenInfo)) {\n    return <span />\n  }\n\n  const tags = currency.tags\n  if (!tags || tags.length === 0) return <span />\n\n  const tag = tags[0]\n\n  return (\n    <TagContainer>\n      <MouseoverTooltip text={tag.description}>\n        <Tag key={tag.id}>{tag.name}</Tag>\n      </MouseoverTooltip>\n      {tags.length > 1 ? (\n        <MouseoverTooltip\n          text={tags\n            .slice(1)\n            .map(({ name, description }) => `${name}: ${description}`)\n            .join('; \\n')}\n        >\n          <Tag>...</Tag>\n        </MouseoverTooltip>\n      ) : null}\n    </TagContainer>\n  )\n}\n\nfunction CurrencyRow({\n  currency,\n  onSelect,\n  isSelected,\n  otherSelected,\n  style,\n  showCurrencyAmount,\n}: {\n  currency: Currency\n  onSelect: () => void\n  isSelected: boolean\n  otherSelected: boolean\n  style: CSSProperties\n  showCurrencyAmount?: boolean\n}) {\n  const { account } = useActiveWeb3React()\n  const key = currencyKey(currency)\n  const selectedTokenList = useCombinedActiveList()\n  const isOnSelectedList = isTokenOnList(selectedTokenList, currency.isToken ? currency : undefined)\n  const customAdded = useIsUserAddedToken(currency)\n  const balance = useCurrencyBalance(account ?? undefined, currency)\n\n  // only show add or remove buttons if not on selected list\n  return (\n    <MenuItem\n      style={style}\n      className={`token-item-${key}`}\n      onClick={() => (isSelected ? null : onSelect())}\n      disabled={isSelected}\n      selected={otherSelected}\n    >\n      <CurrencyLogo currency={currency} size={'24px'} />\n      <Column>\n        <Text title={currency.name} fontWeight={500}>\n          {currency.symbol}\n        </Text>\n        <TYPE.darkGray ml=\"0px\" fontSize={'12px'} fontWeight={300}>\n          {!currency.isNative && !isOnSelectedList && customAdded ? (\n            <Trans>{currency.name} • Added by user</Trans>\n          ) : (\n            currency.name\n          )}\n        </TYPE.darkGray>\n      </Column>\n      <TokenTags currency={currency} />\n      {showCurrencyAmount && (\n        <RowFixed style={{ justifySelf: 'flex-end' }}>\n          {balance ? <Balance balance={balance} /> : account ? <Loader /> : null}\n        </RowFixed>\n      )}\n    </MenuItem>\n  )\n}\n\nconst BREAK_LINE = 'BREAK'\ntype BreakLine = typeof BREAK_LINE\nfunction isBreakLine(x: unknown): x is BreakLine {\n  return x === BREAK_LINE\n}\n\nfunction BreakLineComponent({ style }: { style: CSSProperties }) {\n  const theme = useTheme()\n  return (\n    <FixedContentRow style={style}>\n      <LightGreyCard padding=\"8px 12px\" $borderRadius=\"8px\">\n        <RowBetween>\n          <RowFixed>\n            <TokenListLogoWrapper src={TokenListLogo} />\n            <TYPE.main ml=\"6px\" fontSize=\"12px\" color={theme.text1}>\n              <Trans>Expanded results from inactive Token Lists</Trans>\n            </TYPE.main>\n          </RowFixed>\n          <QuestionHelper\n            text={\n              <Trans>\n                Tokens from inactive lists. Import specific tokens below or click Manage to activate more lists.\n              </Trans>\n            }\n          />\n        </RowBetween>\n      </LightGreyCard>\n    </FixedContentRow>\n  )\n}\n\nexport default function CurrencyList({\n  height,\n  currencies,\n  otherListTokens,\n  selectedCurrency,\n  onCurrencySelect,\n  otherCurrency,\n  fixedListRef,\n  showImportView,\n  setImportToken,\n  showCurrencyAmount,\n}: {\n  height: number\n  currencies: Currency[]\n  otherListTokens?: WrappedTokenInfo[]\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherCurrency?: Currency | null\n  fixedListRef?: MutableRefObject<FixedSizeList | undefined>\n  showImportView: () => void\n  setImportToken: (token: Token) => void\n  showCurrencyAmount?: boolean\n}) {\n  const itemData: (Currency | BreakLine)[] = useMemo(() => {\n    if (otherListTokens && otherListTokens?.length > 0) {\n      return [...currencies, BREAK_LINE, ...otherListTokens]\n    }\n    return currencies\n  }, [currencies, otherListTokens])\n\n  const Row = useCallback(\n    function TokenRow({ data, index, style }) {\n      const row: Currency | BreakLine = data[index]\n\n      if (isBreakLine(row)) {\n        return <BreakLineComponent style={style} />\n      }\n\n      const currency = row\n\n      const isSelected = Boolean(currency && selectedCurrency && selectedCurrency.equals(currency))\n      const otherSelected = Boolean(currency && otherCurrency && otherCurrency.equals(currency))\n      const handleSelect = () => currency && onCurrencySelect(currency)\n\n      const token = currency?.wrapped\n\n      const showImport = index > currencies.length\n\n      if (showImport && token) {\n        return (\n          <ImportRow style={style} token={token} showImportView={showImportView} setImportToken={setImportToken} dim />\n        )\n      } else if (currency) {\n        return (\n          <CurrencyRow\n            style={style}\n            currency={currency}\n            isSelected={isSelected}\n            onSelect={handleSelect}\n            otherSelected={otherSelected}\n            showCurrencyAmount={showCurrencyAmount}\n          />\n        )\n      } else {\n        return null\n      }\n    },\n    [\n      currencies.length,\n      onCurrencySelect,\n      otherCurrency,\n      selectedCurrency,\n      setImportToken,\n      showImportView,\n      showCurrencyAmount,\n    ]\n  )\n\n  const itemKey = useCallback((index: number, data: typeof itemData) => {\n    const currency = data[index]\n    if (isBreakLine(currency)) return BREAK_LINE\n    return currencyKey(currency)\n  }, [])\n\n  return (\n    <FixedSizeList\n      height={height}\n      ref={fixedListRef as any}\n      width=\"100%\"\n      itemData={itemData}\n      itemCount={itemData.length}\n      itemSize={56}\n      itemKey={itemKey}\n    >\n      {Row}\n    </FixedSizeList>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}