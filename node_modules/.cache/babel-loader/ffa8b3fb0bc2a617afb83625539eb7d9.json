{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{css as _css}from\"styled-components\";import _styled from\"styled-components\";var _templateObject;import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import{UnsupportedChainIdError,useWeb3React}from'@web3-react/core';import{darken}from'polished';import{useMemo}from'react';import{Activity}from'react-feather';import CoinbaseWalletIcon from\"../../assets/images/coinbaseWalletIcon.svg\";import FortmaticIcon from'../../assets/images/fortmaticIcon.png';import PortisIcon from'../../assets/images/portisIcon.png';import WalletConnectIcon from\"../../assets/images/walletConnectIcon.svg\";import{fortmatic,injected,portis,walletconnect,walletlink}from'../../connectors';import{NetworkContextName}from'../../constants/misc';import useENSName from'../../hooks/useENSName';import{useHasSocks}from'../../hooks/useSocksBalance';import{useWalletModalToggle}from'../../state/application/hooks';import{isTransactionRecent,useAllTransactions}from'../../state/transactions/hooks';import{shortenAddress}from'../../utils';import{ButtonSecondary}from'../Button';import Identicon from'../Identicon';import Loader from'../Loader';import{RowBetween}from'../Row';import WalletModal from'../WalletModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var IconWrapper=_styled.div.withConfig({componentId:\"sc-m6ivbz-0\"})([\"\",\";align-items:center;justify-content:center;& > *{height:\",\";width:\",\";}\"],function(_ref){var theme=_ref.theme;return theme.flexColumnNoWrap;},function(_ref2){var size=_ref2.size;return size?size+'px':'32px';},function(_ref3){var size=_ref3.size;return size?size+'px':'32px';});var Web3StatusGeneric=_styled(ButtonSecondary).withConfig({componentId:\"sc-m6ivbz-1\"})([\"\",\" width:100%;align-items:center;padding:0.5rem;border-radius:12px;cursor:pointer;user-select:none;:focus{outline:none;}\"],function(_ref4){var theme=_ref4.theme;return theme.flexRowNoWrap;});var Web3StatusError=_styled(Web3StatusGeneric).withConfig({componentId:\"sc-m6ivbz-2\"})([\"background-color:\",\";border:1px solid \",\";color:\",\";font-weight:500;:hover,:focus{background-color:\",\";}\"],function(_ref5){var theme=_ref5.theme;return theme.red1;},function(_ref6){var theme=_ref6.theme;return theme.red1;},function(_ref7){var theme=_ref7.theme;return theme.white;},function(_ref8){var theme=_ref8.theme;return darken(0.1,theme.red1);});var Web3StatusConnect=_styled(Web3StatusGeneric).withConfig({componentId:\"sc-m6ivbz-3\"})([\"background-color:\",\";border:none;color:\",\";font-weight:500;:hover,:focus{border:1px solid \",\";color:\",\";}\",\"\"],function(_ref9){var theme=_ref9.theme;return theme.primary4;},function(_ref10){var theme=_ref10.theme;return theme.primaryText1;},function(_ref11){var theme=_ref11.theme;return darken(0.05,theme.primary4);},function(_ref12){var theme=_ref12.theme;return theme.primaryText1;},function(_ref13){var faded=_ref13.faded;return faded&&_css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n      border: 1px solid \",\";\\n      color: \",\";\\n\\n      :hover,\\n      :focus {\\n        border: 1px solid \",\";\\n        color: \",\";\\n      }\\n    \"])),function(_ref14){var theme=_ref14.theme;return theme.primary5;},function(_ref15){var theme=_ref15.theme;return theme.primary5;},function(_ref16){var theme=_ref16.theme;return theme.primaryText1;},function(_ref17){var theme=_ref17.theme;return darken(0.05,theme.primary4);},function(_ref18){var theme=_ref18.theme;return darken(0.05,theme.primaryText1);});});var Web3StatusConnected=_styled(Web3StatusGeneric).withConfig({componentId:\"sc-m6ivbz-4\"})([\"background-color:\",\";border:1px solid \",\";color:\",\";font-weight:500;:hover,:focus{border:1px solid \",\";:focus{border:1px solid \",\";}}\"],function(_ref19){var pending=_ref19.pending,theme=_ref19.theme;return pending?theme.primary1:theme.bg0;},function(_ref20){var pending=_ref20.pending,theme=_ref20.theme;return pending?theme.primary1:theme.bg1;},function(_ref21){var pending=_ref21.pending,theme=_ref21.theme;return pending?theme.white:theme.text1;},function(_ref22){var theme=_ref22.theme;return darken(0.05,theme.bg3);},function(_ref23){var pending=_ref23.pending,theme=_ref23.theme;return pending?darken(0.1,theme.primary1):darken(0.1,theme.bg2);});var Text=_styled.p.withConfig({componentId:\"sc-m6ivbz-5\"})([\"flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0 0.5rem 0 0.25rem;font-size:1rem;width:fit-content;font-weight:500;\"]);var NetworkIcon=_styled(Activity).withConfig({componentId:\"sc-m6ivbz-6\"})([\"margin-left:0.25rem;margin-right:0.5rem;width:16px;height:16px;\"]);// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a,b){return b.addedTime-a.addedTime;}function Sock(){return/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":/*i18n*/i18n._(\"has socks emoji\"),style:{marginTop:-4,marginBottom:-4},children:\"\\uD83E\\uDDE6\"});}// eslint-disable-next-line react/prop-types\nfunction StatusIcon(_ref24){var connector=_ref24.connector;if(connector===injected){return/*#__PURE__*/_jsx(Identicon,{});}else if(connector===walletconnect){return/*#__PURE__*/_jsx(IconWrapper,{size:16,children:/*#__PURE__*/_jsx(\"img\",{src:WalletConnectIcon,alt:'WalletConnect'})});}else if(connector===walletlink){return/*#__PURE__*/_jsx(IconWrapper,{size:16,children:/*#__PURE__*/_jsx(\"img\",{src:CoinbaseWalletIcon,alt:'CoinbaseWallet'})});}else if(connector===fortmatic){return/*#__PURE__*/_jsx(IconWrapper,{size:16,children:/*#__PURE__*/_jsx(\"img\",{src:FortmaticIcon,alt:'Fortmatic'})});}else if(connector===portis){return/*#__PURE__*/_jsx(IconWrapper,{size:16,children:/*#__PURE__*/_jsx(\"img\",{src:PortisIcon,alt:'Portis'})});}return null;}function Web3StatusInner(){var _useWeb3React=useWeb3React(),account=_useWeb3React.account,connector=_useWeb3React.connector,error=_useWeb3React.error;var _useENSName=useENSName(account!==null&&account!==void 0?account:undefined),ENSName=_useENSName.ENSName;var allTransactions=useAllTransactions();var sortedRecentTransactions=useMemo(function(){var txs=Object.values(allTransactions);return txs.filter(isTransactionRecent).sort(newTransactionsFirst);},[allTransactions]);var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;}).map(function(tx){return tx.hash;});var hasPendingTransactions=!!pending.length;var hasSocks=useHasSocks();var toggleWalletModal=useWalletModalToggle();if(account){return/*#__PURE__*/_jsxs(Web3StatusConnected,{id:\"web3-status-connected\",onClick:toggleWalletModal,pending:hasPendingTransactions,children:[hasPendingTransactions?/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{children:/*#__PURE__*/_jsx(Trans,{id:\"{0} Pending\",values:{0:pending===null||pending===void 0?void 0:pending.length}})}),' ',/*#__PURE__*/_jsx(Loader,{stroke:\"white\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[hasSocks?/*#__PURE__*/_jsx(Sock,{}):null,/*#__PURE__*/_jsx(Text,{children:ENSName||shortenAddress(account)})]}),!hasPendingTransactions&&connector&&/*#__PURE__*/_jsx(StatusIcon,{connector:connector})]});}else if(error){return/*#__PURE__*/_jsxs(Web3StatusError,{onClick:toggleWalletModal,children:[/*#__PURE__*/_jsx(NetworkIcon,{}),/*#__PURE__*/_jsx(Text,{children:error instanceof UnsupportedChainIdError?/*#__PURE__*/_jsx(Trans,{id:\"Wrong Network\"}):/*#__PURE__*/_jsx(Trans,{id:\"Error\"})})]});}else{return/*#__PURE__*/_jsx(Web3StatusConnect,{id:\"connect-wallet\",onClick:toggleWalletModal,faded:!account,children:/*#__PURE__*/_jsx(Text,{children:/*#__PURE__*/_jsx(Trans,{id:\"Connect to a wallet\"})})});}}export default function Web3Status(){var _useWeb3React2=useWeb3React(),active=_useWeb3React2.active,account=_useWeb3React2.account;var contextNetwork=useWeb3React(NetworkContextName);var _useENSName2=useENSName(account!==null&&account!==void 0?account:undefined),ENSName=_useENSName2.ENSName;var allTransactions=useAllTransactions();var sortedRecentTransactions=useMemo(function(){var txs=Object.values(allTransactions);return txs.filter(isTransactionRecent).sort(newTransactionsFirst);},[allTransactions]);var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;}).map(function(tx){return tx.hash;});var confirmed=sortedRecentTransactions.filter(function(tx){return tx.receipt;}).map(function(tx){return tx.hash;});if(!contextNetwork.active&&!active){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Web3StatusInner,{}),/*#__PURE__*/_jsx(WalletModal,{ENSName:ENSName!==null&&ENSName!==void 0?ENSName:undefined,pendingTransactions:pending,confirmedTransactions:confirmed})]});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/components/Web3Status/index.tsx"],"names":["UnsupportedChainIdError","useWeb3React","darken","useMemo","Activity","FortmaticIcon","PortisIcon","fortmatic","injected","portis","walletconnect","walletlink","NetworkContextName","useENSName","useHasSocks","useWalletModalToggle","isTransactionRecent","useAllTransactions","shortenAddress","ButtonSecondary","Identicon","Loader","RowBetween","WalletModal","IconWrapper","styled","div","theme","flexColumnNoWrap","size","Web3StatusGeneric","flexRowNoWrap","Web3StatusError","red1","white","Web3StatusConnect","primary4","primaryText1","faded","css","primary5","Web3StatusConnected","pending","primary1","bg0","bg1","text1","bg3","bg2","Text","p","NetworkIcon","newTransactionsFirst","a","b","addedTime","Sock","marginTop","marginBottom","StatusIcon","connector","WalletConnectIcon","CoinbaseWalletIcon","Web3StatusInner","account","error","undefined","ENSName","allTransactions","sortedRecentTransactions","txs","Object","values","filter","sort","tx","receipt","map","hash","hasPendingTransactions","length","hasSocks","toggleWalletModal","Web3Status","active","contextNetwork","confirmed"],"mappings":"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","sourcesContent":["import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\nimport { darken } from 'polished'\nimport { useMemo } from 'react'\nimport { Activity } from 'react-feather'\nimport { t, Trans } from '@lingui/macro'\nimport styled, { css } from 'styled-components/macro'\nimport CoinbaseWalletIcon from '../../assets/images/coinbaseWalletIcon.svg'\nimport FortmaticIcon from '../../assets/images/fortmaticIcon.png'\nimport PortisIcon from '../../assets/images/portisIcon.png'\nimport WalletConnectIcon from '../../assets/images/walletConnectIcon.svg'\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../../connectors'\nimport { NetworkContextName } from '../../constants/misc'\nimport useENSName from '../../hooks/useENSName'\nimport { useHasSocks } from '../../hooks/useSocksBalance'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { isTransactionRecent, useAllTransactions } from '../../state/transactions/hooks'\nimport { TransactionDetails } from '../../state/transactions/reducer'\nimport { shortenAddress } from '../../utils'\nimport { ButtonSecondary } from '../Button'\n\nimport Identicon from '../Identicon'\nimport Loader from '../Loader'\n\nimport { RowBetween } from '../Row'\nimport WalletModal from '../WalletModal'\n\nconst IconWrapper = styled.div<{ size?: number }>`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: center;\n  justify-content: center;\n  & > * {\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\n  }\n`\n\nconst Web3StatusGeneric = styled(ButtonSecondary)`\n  ${({ theme }) => theme.flexRowNoWrap}\n  width: 100%;\n  align-items: center;\n  padding: 0.5rem;\n  border-radius: 12px;\n  cursor: pointer;\n  user-select: none;\n  :focus {\n    outline: none;\n  }\n`\nconst Web3StatusError = styled(Web3StatusGeneric)`\n  background-color: ${({ theme }) => theme.red1};\n  border: 1px solid ${({ theme }) => theme.red1};\n  color: ${({ theme }) => theme.white};\n  font-weight: 500;\n  :hover,\n  :focus {\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\n  }\n`\n\nconst Web3StatusConnect = styled(Web3StatusGeneric)<{ faded?: boolean }>`\n  background-color: ${({ theme }) => theme.primary4};\n  border: none;\n\n  color: ${({ theme }) => theme.primaryText1};\n  font-weight: 500;\n\n  :hover,\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\n    color: ${({ theme }) => theme.primaryText1};\n  }\n\n  ${({ faded }) =>\n    faded &&\n    css`\n      background-color: ${({ theme }) => theme.primary5};\n      border: 1px solid ${({ theme }) => theme.primary5};\n      color: ${({ theme }) => theme.primaryText1};\n\n      :hover,\n      :focus {\n        border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\n        color: ${({ theme }) => darken(0.05, theme.primaryText1)};\n      }\n    `}\n`\n\nconst Web3StatusConnected = styled(Web3StatusGeneric)<{ pending?: boolean }>`\n  background-color: ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg0)};\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg1)};\n  color: ${({ pending, theme }) => (pending ? theme.white : theme.text1)};\n  font-weight: 500;\n  :hover,\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.05, theme.bg3)};\n\n    :focus {\n      border: 1px solid ${({ pending, theme }) => (pending ? darken(0.1, theme.primary1) : darken(0.1, theme.bg2))};\n    }\n  }\n`\n\nconst Text = styled.p`\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 0 0.5rem 0 0.25rem;\n  font-size: 1rem;\n  width: fit-content;\n  font-weight: 500;\n`\n\nconst NetworkIcon = styled(Activity)`\n  margin-left: 0.25rem;\n  margin-right: 0.5rem;\n  width: 16px;\n  height: 16px;\n`\n\n// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime\n}\n\nfunction Sock() {\n  return (\n    <span role=\"img\" aria-label={t`has socks emoji`} style={{ marginTop: -4, marginBottom: -4 }}>\n      🧦\n    </span>\n  )\n}\n\n// eslint-disable-next-line react/prop-types\nfunction StatusIcon({ connector }: { connector: AbstractConnector }) {\n  if (connector === injected) {\n    return <Identicon />\n  } else if (connector === walletconnect) {\n    return (\n      <IconWrapper size={16}>\n        <img src={WalletConnectIcon} alt={'WalletConnect'} />\n      </IconWrapper>\n    )\n  } else if (connector === walletlink) {\n    return (\n      <IconWrapper size={16}>\n        <img src={CoinbaseWalletIcon} alt={'CoinbaseWallet'} />\n      </IconWrapper>\n    )\n  } else if (connector === fortmatic) {\n    return (\n      <IconWrapper size={16}>\n        <img src={FortmaticIcon} alt={'Fortmatic'} />\n      </IconWrapper>\n    )\n  } else if (connector === portis) {\n    return (\n      <IconWrapper size={16}>\n        <img src={PortisIcon} alt={'Portis'} />\n      </IconWrapper>\n    )\n  }\n  return null\n}\n\nfunction Web3StatusInner() {\n  const { account, connector, error } = useWeb3React()\n\n  const { ENSName } = useENSName(account ?? undefined)\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n\n  const hasPendingTransactions = !!pending.length\n  const hasSocks = useHasSocks()\n  const toggleWalletModal = useWalletModalToggle()\n\n  if (account) {\n    return (\n      <Web3StatusConnected id=\"web3-status-connected\" onClick={toggleWalletModal} pending={hasPendingTransactions}>\n        {hasPendingTransactions ? (\n          <RowBetween>\n            <Text>\n              <Trans>{pending?.length} Pending</Trans>\n            </Text>{' '}\n            <Loader stroke=\"white\" />\n          </RowBetween>\n        ) : (\n          <>\n            {hasSocks ? <Sock /> : null}\n            <Text>{ENSName || shortenAddress(account)}</Text>\n          </>\n        )}\n        {!hasPendingTransactions && connector && <StatusIcon connector={connector} />}\n      </Web3StatusConnected>\n    )\n  } else if (error) {\n    return (\n      <Web3StatusError onClick={toggleWalletModal}>\n        <NetworkIcon />\n        <Text>{error instanceof UnsupportedChainIdError ? <Trans>Wrong Network</Trans> : <Trans>Error</Trans>}</Text>\n      </Web3StatusError>\n    )\n  } else {\n    return (\n      <Web3StatusConnect id=\"connect-wallet\" onClick={toggleWalletModal} faded={!account}>\n        <Text>\n          <Trans>Connect to a wallet</Trans>\n        </Text>\n      </Web3StatusConnect>\n    )\n  }\n}\n\nexport default function Web3Status() {\n  const { active, account } = useWeb3React()\n  const contextNetwork = useWeb3React(NetworkContextName)\n\n  const { ENSName } = useENSName(account ?? undefined)\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n  const confirmed = sortedRecentTransactions.filter((tx) => tx.receipt).map((tx) => tx.hash)\n\n  if (!contextNetwork.active && !active) {\n    return null\n  }\n\n  return (\n    <>\n      <Web3StatusInner />\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}