{"ast":null,"code":"import _slicedToArray from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _styled from\"styled-components\";var _templateObject;import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import{BigNumber}from'ethers';import useCurrentBlockTimestamp from'hooks/useCurrentBlockTimestamp';import JSBI from'jsbi';import{DateTime}from'luxon';import{useState}from'react';import{ArrowLeft}from'react-feather';import ReactMarkdown from'react-markdown';import{ButtonPrimary}from'../../components/Button';import{GreyCard}from'../../components/Card';import{AutoColumn}from'../../components/Column';import{CardSection,DataCard}from'../../components/earn/styled';import{RowBetween,RowFixed}from'../../components/Row';import{SwitchLocaleLink}from'../../components/SwitchLocaleLink';import DelegateModal from'../../components/vote/DelegateModal';import VoteModal from'../../components/vote/VoteModal';import{AVERAGE_BLOCK_TIME_IN_SECS,COMMON_CONTRACT_NAMES,DEFAULT_AVERAGE_BLOCK_TIME_IN_SECS}from'../../constants/governance';import{ZERO_ADDRESS}from'../../constants/misc';import{UNI}from'../../constants/tokens';import{useActiveWeb3React}from'../../hooks/web3';import{ApplicationModal}from'../../state/application/actions';import{useBlockNumber,useModalOpen,useToggleDelegateModal,useToggleVoteModal}from'../../state/application/hooks';import{ProposalState,useProposalData,useUserDelegatee,useUserVotesAsOfBlock}from'../../state/governance/hooks';import{useTokenBalance}from'../../state/wallet/hooks';import{ExternalLink,StyledInternalLink,TYPE}from'../../theme';import{isAddress}from'../../utils';import{ExplorerDataType,getExplorerLink}from'../../utils/getExplorerLink';import{ProposalStatus}from'./styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageWrapper=_styled(AutoColumn).withConfig({componentId:\"sc-1vobn0f-0\"})([\"width:100%;\"]);var ProposalInfo=_styled(AutoColumn).withConfig({componentId:\"sc-1vobn0f-1\"})([\"background:\",\";border-radius:12px;padding:1.5rem;position:relative;max-width:640px;width:100%;\"],function(_ref){var theme=_ref.theme;return theme.bg0;});var ArrowWrapper=_styled(StyledInternalLink).withConfig({componentId:\"sc-1vobn0f-2\"})([\"display:flex;align-items:center;gap:8px;height:24px;color:\",\";a{color:\",\";text-decoration:none;}:hover{text-decoration:none;}\"],function(_ref2){var theme=_ref2.theme;return theme.text1;},function(_ref3){var theme=_ref3.theme;return theme.text1;});var CardWrapper=_styled.div.withConfig({componentId:\"sc-1vobn0f-3\"})([\"display:grid;grid-template-columns:1fr 1fr;gap:12px;width:100%;\"]);var StyledDataCard=_styled(DataCard).withConfig({componentId:\"sc-1vobn0f-4\"})([\"width:100%;background:none;background-color:\",\";height:fit-content;z-index:2;\"],function(_ref4){var theme=_ref4.theme;return theme.bg1;});var ProgressWrapper=_styled.div.withConfig({componentId:\"sc-1vobn0f-5\"})([\"width:100%;margin-top:1rem;height:4px;border-radius:4px;background-color:\",\";position:relative;\"],function(_ref5){var theme=_ref5.theme;return theme.bg3;});var Progress=_styled.div.withConfig({componentId:\"sc-1vobn0f-6\"})([\"height:4px;border-radius:4px;background-color:\",\";width:\",\";\"],function(_ref6){var theme=_ref6.theme,status=_ref6.status;return status==='for'?theme.green1:theme.red1;},function(_ref7){var percentageString=_ref7.percentageString;return percentageString;});var MarkDownWrapper=_styled.div.withConfig({componentId:\"sc-1vobn0f-7\"})([\"max-width:640px;overflow:hidden;\"]);var WrapSmall=_styled(RowBetween).withConfig({componentId:\"sc-1vobn0f-8\"})([\"\",\";\"],function(_ref8){var theme=_ref8.theme;return theme.mediaWidth.upToSmall(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    align-items: flex-start;\\n    flex-direction: column;\\n  \"])));});var DetailText=_styled.div.withConfig({componentId:\"sc-1vobn0f-9\"})([\"word-break:break-all;\"]);var ProposerAddressLink=_styled(ExternalLink).withConfig({componentId:\"sc-1vobn0f-10\"})([\"word-break:break-all;\"]);export default function VotePage(_ref9){var _ref10,_proposalData$startBl,_proposalData$forCoun,_proposalData$against,_proposalData$details;var _ref9$match$params=_ref9.match.params,governorIndex=_ref9$match$params.governorIndex,id=_ref9$match$params.id;var _useActiveWeb3React=useActiveWeb3React(),chainId=_useActiveWeb3React.chainId,account=_useActiveWeb3React.account;// get data for this specific proposal\nvar proposalData=useProposalData(Number.parseInt(governorIndex),id);// update support based on button interactions\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),support=_useState2[0],setSupport=_useState2[1];// modal for casting votes\nvar showVoteModal=useModalOpen(ApplicationModal.VOTE);var toggleVoteModal=useToggleVoteModal();// toggle for showing delegation modal\nvar showDelegateModal=useModalOpen(ApplicationModal.DELEGATE);var toggleDelegateModal=useToggleDelegateModal();// get and format date from data\nvar currentTimestamp=useCurrentBlockTimestamp();var currentBlock=useBlockNumber();var endDate=proposalData&&currentTimestamp&&currentBlock?DateTime.fromSeconds(currentTimestamp.add(BigNumber.from((_ref10=chainId&&AVERAGE_BLOCK_TIME_IN_SECS[chainId])!==null&&_ref10!==void 0?_ref10:DEFAULT_AVERAGE_BLOCK_TIME_IN_SECS).mul(BigNumber.from(proposalData.endBlock-currentBlock))).toNumber()):undefined;var now=DateTime.local();// get total votes and format percentages for UI\nvar totalVotes=proposalData?proposalData.forCount+proposalData.againstCount:undefined;var forPercentage=/*i18n*/i18n._(\"{0} %\",{0:proposalData&&totalVotes?(proposalData.forCount*100/totalVotes).toFixed(0):'0'});var againstPercentage=/*i18n*/i18n._(\"{0} %\",{0:proposalData&&totalVotes?(proposalData.againstCount*100/totalVotes).toFixed(0):'0'});// only count available votes as of the proposal start block\nvar availableVotes=useUserVotesAsOfBlock((_proposalData$startBl=proposalData===null||proposalData===void 0?void 0:proposalData.startBlock)!==null&&_proposalData$startBl!==void 0?_proposalData$startBl:undefined);// only show voting if user has > 0 votes at proposal start block and proposal is active,\nvar showVotingButtons=availableVotes&&JSBI.greaterThan(availableVotes.quotient,JSBI.BigInt(0))&&proposalData&&proposalData.status===ProposalState.ACTIVE;var uniBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,chainId?UNI[chainId]:undefined);var userDelegatee=useUserDelegatee();// in blurb link to home page if they are able to unlock\nvar showLinkForUnlock=Boolean(uniBalance&&JSBI.notEqual(uniBalance.quotient,JSBI.BigInt(0))&&userDelegatee===ZERO_ADDRESS);// show links in propsoal details if content is an address\n// if content is contract with common name, replace address with common name\nvar linkIfAddress=function linkIfAddress(content){if(isAddress(content)&&chainId){var _COMMON_CONTRACT_NAME,_COMMON_CONTRACT_NAME2;var commonName=(_COMMON_CONTRACT_NAME=(_COMMON_CONTRACT_NAME2=COMMON_CONTRACT_NAMES[chainId])===null||_COMMON_CONTRACT_NAME2===void 0?void 0:_COMMON_CONTRACT_NAME2[content])!==null&&_COMMON_CONTRACT_NAME!==void 0?_COMMON_CONTRACT_NAME:content;return/*#__PURE__*/_jsx(ExternalLink,{href:getExplorerLink(chainId,content,ExplorerDataType.ADDRESS),children:commonName});}return/*#__PURE__*/_jsx(\"span\",{children:content});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(PageWrapper,{gap:\"lg\",justify:\"center\",children:[/*#__PURE__*/_jsx(VoteModal,{isOpen:showVoteModal,onDismiss:toggleVoteModal,proposalId:proposalData===null||proposalData===void 0?void 0:proposalData.id,support:support}),/*#__PURE__*/_jsx(DelegateModal,{isOpen:showDelegateModal,onDismiss:toggleDelegateModal,title:/*#__PURE__*/_jsx(Trans,{id:\"Unlock Votes\"})}),/*#__PURE__*/_jsxs(ProposalInfo,{gap:\"lg\",justify:\"start\",children:[/*#__PURE__*/_jsxs(RowBetween,{style:{width:'100%'},children:[/*#__PURE__*/_jsx(ArrowWrapper,{to:\"/vote\",children:/*#__PURE__*/_jsx(Trans,{id:\"<0/> All Proposals\",components:{0:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}})}),proposalData&&/*#__PURE__*/_jsx(ProposalStatus,{status:proposalData.status})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"10px\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(TYPE.largeHeader,{style:{marginBottom:'.5rem'},children:proposalData===null||proposalData===void 0?void 0:proposalData.title}),/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(TYPE.main,{children:endDate&&endDate<now?/*#__PURE__*/_jsx(Trans,{id:\"Voting ended {0}\",values:{0:endDate&&endDate.toLocaleString(DateTime.DATETIME_FULL)}}):proposalData?/*#__PURE__*/_jsx(Trans,{id:\"Voting ends approximately {0}\",values:{0:endDate&&endDate.toLocaleString(DateTime.DATETIME_FULL)}}):''})}),proposalData&&proposalData.status===ProposalState.ACTIVE&&!showVotingButtons&&/*#__PURE__*/_jsx(GreyCard,{children:/*#__PURE__*/_jsxs(TYPE.black,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Only UNI votes that were self delegated or delegated to another address before block {0} are eligible for voting.\",values:{0:proposalData.startBlock}}),showLinkForUnlock&&/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Trans,{id:\"<0>Unlock voting</0> to prepare for the next proposal.\",components:{0:/*#__PURE__*/_jsx(StyledInternalLink,{to:\"/vote\"})}})})]})})]}),showVotingButtons?/*#__PURE__*/_jsxs(RowFixed,{style:{width:'100%',gap:'12px'},children:[/*#__PURE__*/_jsx(ButtonPrimary,{padding:\"8px\",$borderRadius:\"8px\",onClick:function onClick(){setSupport(true);toggleVoteModal();},children:/*#__PURE__*/_jsx(Trans,{id:\"Vote For\"})}),/*#__PURE__*/_jsx(ButtonPrimary,{padding:\"8px\",$borderRadius:\"8px\",onClick:function onClick(){setSupport(false);toggleVoteModal();},children:/*#__PURE__*/_jsx(Trans,{id:\"Vote Against\"})})]}):'',/*#__PURE__*/_jsxs(CardWrapper,{children:[/*#__PURE__*/_jsx(StyledDataCard,{children:/*#__PURE__*/_jsxs(CardSection,{children:[/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:/*#__PURE__*/_jsxs(WrapSmall,{children:[/*#__PURE__*/_jsx(TYPE.black,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"For\"})}),/*#__PURE__*/_jsx(TYPE.black,{fontWeight:600,children:proposalData===null||proposalData===void 0?void 0:(_proposalData$forCoun=proposalData.forCount)===null||_proposalData$forCoun===void 0?void 0:_proposalData$forCoun.toLocaleString(undefined,{maximumFractionDigits:0})})]})}),/*#__PURE__*/_jsx(ProgressWrapper,{children:/*#__PURE__*/_jsx(Progress,{status:'for',percentageString:forPercentage})})]})}),/*#__PURE__*/_jsx(StyledDataCard,{children:/*#__PURE__*/_jsxs(CardSection,{children:[/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:/*#__PURE__*/_jsxs(WrapSmall,{children:[/*#__PURE__*/_jsx(TYPE.black,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Against\"})}),/*#__PURE__*/_jsx(TYPE.black,{fontWeight:600,children:proposalData===null||proposalData===void 0?void 0:(_proposalData$against=proposalData.againstCount)===null||_proposalData$against===void 0?void 0:_proposalData$against.toLocaleString(undefined,{maximumFractionDigits:0})})]})}),/*#__PURE__*/_jsx(ProgressWrapper,{children:/*#__PURE__*/_jsx(Progress,{status:'against',percentageString:againstPercentage})})]})})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(TYPE.mediumHeader,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Details\"})}),proposalData===null||proposalData===void 0?void 0:(_proposalData$details=proposalData.details)===null||_proposalData$details===void 0?void 0:_proposalData$details.map(function(d,i){return/*#__PURE__*/_jsxs(DetailText,{children:[i+1,\": \",linkIfAddress(d.target),\".\",d.functionSig,\"(\",d.callData.split(',').map(function(content,i){return/*#__PURE__*/_jsxs(\"span\",{children:[linkIfAddress(content),d.callData.split(',').length-1===i?'':',']},i);}),\")\"]},i);})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(TYPE.mediumHeader,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Description\"})}),/*#__PURE__*/_jsx(MarkDownWrapper,{children:/*#__PURE__*/_jsx(ReactMarkdown,{source:proposalData===null||proposalData===void 0?void 0:proposalData.description})})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(TYPE.mediumHeader,{fontWeight:600,children:/*#__PURE__*/_jsx(Trans,{id:\"Proposer\"})}),/*#__PURE__*/_jsx(ProposerAddressLink,{href:(proposalData===null||proposalData===void 0?void 0:proposalData.proposer)&&chainId?getExplorerLink(chainId,proposalData===null||proposalData===void 0?void 0:proposalData.proposer,ExplorerDataType.ADDRESS):'',children:/*#__PURE__*/_jsx(ReactMarkdown,{source:proposalData===null||proposalData===void 0?void 0:proposalData.proposer})})]})]})]}),/*#__PURE__*/_jsx(SwitchLocaleLink,{})]});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/pages/Vote/VotePage.tsx"],"names":["BigNumber","useCurrentBlockTimestamp","JSBI","DateTime","useState","ArrowLeft","ReactMarkdown","ButtonPrimary","GreyCard","AutoColumn","CardSection","DataCard","RowBetween","RowFixed","SwitchLocaleLink","DelegateModal","VoteModal","AVERAGE_BLOCK_TIME_IN_SECS","COMMON_CONTRACT_NAMES","DEFAULT_AVERAGE_BLOCK_TIME_IN_SECS","ZERO_ADDRESS","UNI","useActiveWeb3React","ApplicationModal","useBlockNumber","useModalOpen","useToggleDelegateModal","useToggleVoteModal","ProposalState","useProposalData","useUserDelegatee","useUserVotesAsOfBlock","useTokenBalance","ExternalLink","StyledInternalLink","TYPE","isAddress","ExplorerDataType","getExplorerLink","ProposalStatus","PageWrapper","styled","ProposalInfo","theme","bg0","ArrowWrapper","text1","CardWrapper","div","StyledDataCard","bg1","ProgressWrapper","bg3","Progress","status","green1","red1","percentageString","MarkDownWrapper","WrapSmall","mediaWidth","upToSmall","DetailText","ProposerAddressLink","VotePage","match","params","governorIndex","id","chainId","account","proposalData","Number","parseInt","support","setSupport","showVoteModal","VOTE","toggleVoteModal","showDelegateModal","DELEGATE","toggleDelegateModal","currentTimestamp","currentBlock","endDate","fromSeconds","add","from","mul","endBlock","toNumber","undefined","now","local","totalVotes","forCount","againstCount","forPercentage","toFixed","againstPercentage","availableVotes","startBlock","showVotingButtons","greaterThan","quotient","BigInt","ACTIVE","uniBalance","userDelegatee","showLinkForUnlock","Boolean","notEqual","linkIfAddress","content","commonName","ADDRESS","width","marginBottom","title","toLocaleString","DATETIME_FULL","gap","maximumFractionDigits","details","map","d","i","target","functionSig","callData","split","length","description","proposer"],"mappings":"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","sourcesContent":["import { CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport { BigNumber } from 'ethers'\nimport useCurrentBlockTimestamp from 'hooks/useCurrentBlockTimestamp'\nimport JSBI from 'jsbi'\nimport { DateTime } from 'luxon'\nimport { useState } from 'react'\nimport { ArrowLeft } from 'react-feather'\nimport ReactMarkdown from 'react-markdown'\n\nimport { RouteComponentProps } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { ButtonPrimary } from '../../components/Button'\nimport { GreyCard } from '../../components/Card'\nimport { AutoColumn } from '../../components/Column'\nimport { CardSection, DataCard } from '../../components/earn/styled'\nimport { RowBetween, RowFixed } from '../../components/Row'\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\nimport DelegateModal from '../../components/vote/DelegateModal'\nimport VoteModal from '../../components/vote/VoteModal'\nimport {\n  AVERAGE_BLOCK_TIME_IN_SECS,\n  COMMON_CONTRACT_NAMES,\n  DEFAULT_AVERAGE_BLOCK_TIME_IN_SECS,\n} from '../../constants/governance'\nimport { ZERO_ADDRESS } from '../../constants/misc'\nimport { UNI } from '../../constants/tokens'\nimport { useActiveWeb3React } from '../../hooks/web3'\nimport { ApplicationModal } from '../../state/application/actions'\nimport { useBlockNumber, useModalOpen, useToggleDelegateModal, useToggleVoteModal } from '../../state/application/hooks'\nimport {\n  ProposalData,\n  ProposalState,\n  useProposalData,\n  useUserDelegatee,\n  useUserVotesAsOfBlock,\n} from '../../state/governance/hooks'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { ExternalLink, StyledInternalLink, TYPE } from '../../theme'\nimport { isAddress } from '../../utils'\nimport { ExplorerDataType, getExplorerLink } from '../../utils/getExplorerLink'\nimport { ProposalStatus } from './styled'\nimport { t, Trans } from '@lingui/macro'\n\nconst PageWrapper = styled(AutoColumn)`\n  width: 100%;\n`\n\nconst ProposalInfo = styled(AutoColumn)`\n  background: ${({ theme }) => theme.bg0};\n  border-radius: 12px;\n  padding: 1.5rem;\n  position: relative;\n  max-width: 640px;\n  width: 100%;\n`\n\nconst ArrowWrapper = styled(StyledInternalLink)`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  height: 24px;\n  color: ${({ theme }) => theme.text1};\n\n  a {\n    color: ${({ theme }) => theme.text1};\n    text-decoration: none;\n  }\n  :hover {\n    text-decoration: none;\n  }\n`\nconst CardWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n  width: 100%;\n`\n\nconst StyledDataCard = styled(DataCard)`\n  width: 100%;\n  background: none;\n  background-color: ${({ theme }) => theme.bg1};\n  height: fit-content;\n  z-index: 2;\n`\n\nconst ProgressWrapper = styled.div`\n  width: 100%;\n  margin-top: 1rem;\n  height: 4px;\n  border-radius: 4px;\n  background-color: ${({ theme }) => theme.bg3};\n  position: relative;\n`\n\nconst Progress = styled.div<{ status: 'for' | 'against'; percentageString?: string }>`\n  height: 4px;\n  border-radius: 4px;\n  background-color: ${({ theme, status }) => (status === 'for' ? theme.green1 : theme.red1)};\n  width: ${({ percentageString }) => percentageString};\n`\n\nconst MarkDownWrapper = styled.div`\n  max-width: 640px;\n  overflow: hidden;\n`\n\nconst WrapSmall = styled(RowBetween)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    align-items: flex-start;\n    flex-direction: column;\n  `};\n`\n\nconst DetailText = styled.div`\n  word-break: break-all;\n`\n\nconst ProposerAddressLink = styled(ExternalLink)`\n  word-break: break-all;\n`\n\nexport default function VotePage({\n  match: {\n    params: { governorIndex, id },\n  },\n}: RouteComponentProps<{ governorIndex: string; id: string }>) {\n  const { chainId, account } = useActiveWeb3React()\n\n  // get data for this specific proposal\n  const proposalData: ProposalData | undefined = useProposalData(Number.parseInt(governorIndex), id)\n\n  // update support based on button interactions\n  const [support, setSupport] = useState<boolean>(true)\n\n  // modal for casting votes\n  const showVoteModal = useModalOpen(ApplicationModal.VOTE)\n  const toggleVoteModal = useToggleVoteModal()\n\n  // toggle for showing delegation modal\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE)\n  const toggleDelegateModal = useToggleDelegateModal()\n\n  // get and format date from data\n  const currentTimestamp = useCurrentBlockTimestamp()\n  const currentBlock = useBlockNumber()\n  const endDate: DateTime | undefined =\n    proposalData && currentTimestamp && currentBlock\n      ? DateTime.fromSeconds(\n          currentTimestamp\n            .add(\n              BigNumber.from(\n                (chainId && AVERAGE_BLOCK_TIME_IN_SECS[chainId]) ?? DEFAULT_AVERAGE_BLOCK_TIME_IN_SECS\n              ).mul(BigNumber.from(proposalData.endBlock - currentBlock))\n            )\n            .toNumber()\n        )\n      : undefined\n  const now: DateTime = DateTime.local()\n\n  // get total votes and format percentages for UI\n  const totalVotes: number | undefined = proposalData ? proposalData.forCount + proposalData.againstCount : undefined\n  const forPercentage: string = t`${\n    proposalData && totalVotes ? ((proposalData.forCount * 100) / totalVotes).toFixed(0) : '0'\n  } %`\n  const againstPercentage: string = t`${\n    proposalData && totalVotes ? ((proposalData.againstCount * 100) / totalVotes).toFixed(0) : '0'\n  } %`\n\n  // only count available votes as of the proposal start block\n  const availableVotes: CurrencyAmount<Token> | undefined = useUserVotesAsOfBlock(proposalData?.startBlock ?? undefined)\n\n  // only show voting if user has > 0 votes at proposal start block and proposal is active,\n  const showVotingButtons =\n    availableVotes &&\n    JSBI.greaterThan(availableVotes.quotient, JSBI.BigInt(0)) &&\n    proposalData &&\n    proposalData.status === ProposalState.ACTIVE\n\n  const uniBalance: CurrencyAmount<Token> | undefined = useTokenBalance(\n    account ?? undefined,\n    chainId ? UNI[chainId] : undefined\n  )\n  const userDelegatee: string | undefined = useUserDelegatee()\n\n  // in blurb link to home page if they are able to unlock\n  const showLinkForUnlock = Boolean(\n    uniBalance && JSBI.notEqual(uniBalance.quotient, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS\n  )\n\n  // show links in propsoal details if content is an address\n  // if content is contract with common name, replace address with common name\n  const linkIfAddress = (content: string) => {\n    if (isAddress(content) && chainId) {\n      const commonName = COMMON_CONTRACT_NAMES[chainId]?.[content] ?? content\n      return (\n        <ExternalLink href={getExplorerLink(chainId, content, ExplorerDataType.ADDRESS)}>{commonName}</ExternalLink>\n      )\n    }\n    return <span>{content}</span>\n  }\n\n  return (\n    <>\n      <PageWrapper gap=\"lg\" justify=\"center\">\n        <VoteModal isOpen={showVoteModal} onDismiss={toggleVoteModal} proposalId={proposalData?.id} support={support} />\n        <DelegateModal isOpen={showDelegateModal} onDismiss={toggleDelegateModal} title={<Trans>Unlock Votes</Trans>} />\n        <ProposalInfo gap=\"lg\" justify=\"start\">\n          <RowBetween style={{ width: '100%' }}>\n            <ArrowWrapper to=\"/vote\">\n              <Trans>\n                <ArrowLeft size={20} /> All Proposals\n              </Trans>\n            </ArrowWrapper>\n            {proposalData && <ProposalStatus status={proposalData.status} />}\n          </RowBetween>\n          <AutoColumn gap=\"10px\" style={{ width: '100%' }}>\n            <TYPE.largeHeader style={{ marginBottom: '.5rem' }}>{proposalData?.title}</TYPE.largeHeader>\n            <RowBetween>\n              <TYPE.main>\n                {endDate && endDate < now ? (\n                  <Trans>Voting ended {endDate && endDate.toLocaleString(DateTime.DATETIME_FULL)}</Trans>\n                ) : proposalData ? (\n                  <Trans>Voting ends approximately {endDate && endDate.toLocaleString(DateTime.DATETIME_FULL)}</Trans>\n                ) : (\n                  ''\n                )}\n              </TYPE.main>\n            </RowBetween>\n            {proposalData && proposalData.status === ProposalState.ACTIVE && !showVotingButtons && (\n              <GreyCard>\n                <TYPE.black>\n                  <Trans>\n                    Only UNI votes that were self delegated or delegated to another address before block{' '}\n                    {proposalData.startBlock} are eligible for voting.{' '}\n                  </Trans>\n                  {showLinkForUnlock && (\n                    <span>\n                      <Trans>\n                        <StyledInternalLink to=\"/vote\">Unlock voting</StyledInternalLink> to prepare for the next\n                        proposal.\n                      </Trans>\n                    </span>\n                  )}\n                </TYPE.black>\n              </GreyCard>\n            )}\n          </AutoColumn>\n          {showVotingButtons ? (\n            <RowFixed style={{ width: '100%', gap: '12px' }}>\n              <ButtonPrimary\n                padding=\"8px\"\n                $borderRadius=\"8px\"\n                onClick={() => {\n                  setSupport(true)\n                  toggleVoteModal()\n                }}\n              >\n                <Trans>Vote For</Trans>\n              </ButtonPrimary>\n              <ButtonPrimary\n                padding=\"8px\"\n                $borderRadius=\"8px\"\n                onClick={() => {\n                  setSupport(false)\n                  toggleVoteModal()\n                }}\n              >\n                <Trans>Vote Against</Trans>\n              </ButtonPrimary>\n            </RowFixed>\n          ) : (\n            ''\n          )}\n          <CardWrapper>\n            <StyledDataCard>\n              <CardSection>\n                <AutoColumn gap=\"md\">\n                  <WrapSmall>\n                    <TYPE.black fontWeight={600}>\n                      <Trans>For</Trans>\n                    </TYPE.black>\n                    <TYPE.black fontWeight={600}>\n                      {proposalData?.forCount?.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                    </TYPE.black>\n                  </WrapSmall>\n                </AutoColumn>\n                <ProgressWrapper>\n                  <Progress status={'for'} percentageString={forPercentage} />\n                </ProgressWrapper>\n              </CardSection>\n            </StyledDataCard>\n            <StyledDataCard>\n              <CardSection>\n                <AutoColumn gap=\"md\">\n                  <WrapSmall>\n                    <TYPE.black fontWeight={600}>\n                      <Trans>Against</Trans>\n                    </TYPE.black>\n                    <TYPE.black fontWeight={600}>\n                      {proposalData?.againstCount?.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                    </TYPE.black>\n                  </WrapSmall>\n                </AutoColumn>\n                <ProgressWrapper>\n                  <Progress status={'against'} percentageString={againstPercentage} />\n                </ProgressWrapper>\n              </CardSection>\n            </StyledDataCard>\n          </CardWrapper>\n          <AutoColumn gap=\"md\">\n            <TYPE.mediumHeader fontWeight={600}>\n              <Trans>Details</Trans>\n            </TYPE.mediumHeader>\n            {proposalData?.details?.map((d, i) => {\n              return (\n                <DetailText key={i}>\n                  {i + 1}: {linkIfAddress(d.target)}.{d.functionSig}(\n                  {d.callData.split(',').map((content, i) => {\n                    return (\n                      <span key={i}>\n                        {linkIfAddress(content)}\n                        {d.callData.split(',').length - 1 === i ? '' : ','}\n                      </span>\n                    )\n                  })}\n                  )\n                </DetailText>\n              )\n            })}\n          </AutoColumn>\n          <AutoColumn gap=\"md\">\n            <TYPE.mediumHeader fontWeight={600}>\n              <Trans>Description</Trans>\n            </TYPE.mediumHeader>\n            <MarkDownWrapper>\n              <ReactMarkdown source={proposalData?.description} />\n            </MarkDownWrapper>\n          </AutoColumn>\n          <AutoColumn gap=\"md\">\n            <TYPE.mediumHeader fontWeight={600}>\n              <Trans>Proposer</Trans>\n            </TYPE.mediumHeader>\n            <ProposerAddressLink\n              href={\n                proposalData?.proposer && chainId\n                  ? getExplorerLink(chainId, proposalData?.proposer, ExplorerDataType.ADDRESS)\n                  : ''\n              }\n            >\n              <ReactMarkdown source={proposalData?.proposer} />\n            </ProposerAddressLink>\n          </AutoColumn>\n        </ProposalInfo>\n      </PageWrapper>\n      <SwitchLocaleLink />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}