{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{ThemeContext as _ThemeContext}from\"styled-components\";import _styled from\"styled-components\";var _templateObject;import{useCallback,useContext,useEffect}from'react';import{X}from'react-feather';import{useSpring}from'react-spring/web';import{animated}from'react-spring';import{useRemovePopup}from'../../state/application/hooks';import TransactionPopup from'./TransactionPopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledClose=_styled(X).withConfig({componentId:\"sc-a10u6v-0\"})([\"position:absolute;right:10px;top:10px;:hover{cursor:pointer;}\"]);var Popup=_styled.div.withConfig({componentId:\"sc-a10u6v-1\"})([\"display:inline-block;width:100%;padding:1em;background-color:\",\";position:relative;border-radius:10px;padding:20px;padding-right:35px;overflow:hidden;\",\"\"],function(_ref){var theme=_ref.theme;return theme.bg0;},function(_ref2){var theme=_ref2.theme;return theme.mediaWidth.upToSmall(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    min-width: 290px;\\n    &:not(:last-of-type) {\\n      margin-right: 20px;\\n    }\\n  \"])));});var Fader=_styled.div.withConfig({componentId:\"sc-a10u6v-2\"})([\"position:absolute;bottom:0px;left:0px;width:100%;height:2px;background-color:\",\";\"],function(_ref3){var theme=_ref3.theme;return theme.bg3;});var AnimatedFader=animated(Fader);export default function PopupItem(_ref4){var removeAfterMs=_ref4.removeAfterMs,content=_ref4.content,popKey=_ref4.popKey;var removePopup=useRemovePopup();var removeThisPopup=useCallback(function(){return removePopup(popKey);},[popKey,removePopup]);useEffect(function(){if(removeAfterMs===null)return undefined;var timeout=setTimeout(function(){removeThisPopup();},removeAfterMs);return function(){clearTimeout(timeout);};},[removeAfterMs,removeThisPopup]);var theme=useContext(_ThemeContext);var popupContent;if('txn'in content){var _content$txn=content.txn,hash=_content$txn.hash,success=_content$txn.success,summary=_content$txn.summary;popupContent=/*#__PURE__*/_jsx(TransactionPopup,{hash:hash,success:success,summary:summary});}var faderStyle=useSpring({from:{width:'100%'},to:{width:'0%'},config:{duration:removeAfterMs!==null&&removeAfterMs!==void 0?removeAfterMs:undefined}});return/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(StyledClose,{color:theme.text2,onClick:removeThisPopup}),popupContent,removeAfterMs!==null?/*#__PURE__*/_jsx(AnimatedFader,{style:faderStyle}):null]});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/components/Popups/PopupItem.tsx"],"names":["useCallback","useContext","useEffect","X","useSpring","animated","useRemovePopup","TransactionPopup","StyledClose","styled","Popup","div","theme","bg0","mediaWidth","upToSmall","Fader","bg3","AnimatedFader","PopupItem","removeAfterMs","content","popKey","removePopup","removeThisPopup","undefined","timeout","setTimeout","clearTimeout","ThemeContext","popupContent","txn","hash","success","summary","faderStyle","from","width","to","config","duration","text2"],"mappings":"gUAAA,OAASA,WAAT,CAAsBC,UAAtB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAASC,CAAT,KAAkB,eAAlB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,OAASC,QAAT,KAAyB,cAAzB,CAEA,OAASC,cAAT,KAA+B,+BAA/B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGC,OAAM,CAACN,CAAD,CAAT,2GAAjB,CASA,GAAMO,CAAAA,KAAK,CAAGD,OAAM,CAACE,GAAV,uMAIW,kBAAGC,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,GAArB,EAJX,CAWP,mBAAGD,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACE,UAAN,CAAiBC,SAAhC,4JAXO,CAAX,CAkBA,GAAMC,CAAAA,KAAK,CAAGP,OAAM,CAACE,GAAV,+HAMW,mBAAGC,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACK,GAArB,EANX,CAAX,CASA,GAAMC,CAAAA,aAAa,CAAGb,QAAQ,CAACW,KAAD,CAA9B,CAEA,cAAe,SAASG,CAAAA,SAAT,OAQZ,IAPDC,CAAAA,aAOC,OAPDA,aAOC,CANDC,OAMC,OANDA,OAMC,CALDC,MAKC,OALDA,MAKC,CACD,GAAMC,CAAAA,WAAW,CAAGjB,cAAc,EAAlC,CACA,GAAMkB,CAAAA,eAAe,CAAGxB,WAAW,CAAC,iBAAMuB,CAAAA,WAAW,CAACD,MAAD,CAAjB,EAAD,CAA4B,CAACA,MAAD,CAASC,WAAT,CAA5B,CAAnC,CACArB,SAAS,CAAC,UAAM,CACd,GAAIkB,aAAa,GAAK,IAAtB,CAA4B,MAAOK,CAAAA,SAAP,CAE5B,GAAMC,CAAAA,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC/BH,eAAe,GAChB,CAFyB,CAEvBJ,aAFuB,CAA1B,CAIA,MAAO,WAAM,CACXQ,YAAY,CAACF,OAAD,CAAZ,CACD,CAFD,CAGD,CAVQ,CAUN,CAACN,aAAD,CAAgBI,eAAhB,CAVM,CAAT,CAYA,GAAMZ,CAAAA,KAAK,CAAGX,UAAU,CAAC4B,aAAD,CAAxB,CAEA,GAAIC,CAAAA,YAAJ,CACA,GAAI,OAAST,CAAAA,OAAb,CAAsB,CACpB,iBAEIA,OAFJ,CACEU,GADF,CACSC,IADT,cACSA,IADT,CACeC,OADf,cACeA,OADf,CACwBC,OADxB,cACwBA,OADxB,CAGAJ,YAAY,cAAG,KAAC,gBAAD,EAAkB,IAAI,CAAEE,IAAxB,CAA8B,OAAO,CAAEC,OAAvC,CAAgD,OAAO,CAAEC,OAAzD,EAAf,CACD,CAED,GAAMC,CAAAA,UAAU,CAAG/B,SAAS,CAAC,CAC3BgC,IAAI,CAAE,CAAEC,KAAK,CAAE,MAAT,CADqB,CAE3BC,EAAE,CAAE,CAAED,KAAK,CAAE,IAAT,CAFuB,CAG3BE,MAAM,CAAE,CAAEC,QAAQ,CAAEpB,aAAF,SAAEA,aAAF,UAAEA,aAAF,CAAmBK,SAA7B,CAHmB,CAAD,CAA5B,CAMA,mBACE,MAAC,KAAD,yBACE,KAAC,WAAD,EAAa,KAAK,CAAEb,KAAK,CAAC6B,KAA1B,CAAiC,OAAO,CAAEjB,eAA1C,EADF,CAEGM,YAFH,CAGGV,aAAa,GAAK,IAAlB,cAAyB,KAAC,aAAD,EAAe,KAAK,CAAEe,UAAtB,EAAzB,CAAgE,IAHnE,GADF,CAOD","sourcesContent":["import { useCallback, useContext, useEffect } from 'react'\nimport { X } from 'react-feather'\nimport { useSpring } from 'react-spring/web'\nimport styled, { ThemeContext } from 'styled-components/macro'\nimport { animated } from 'react-spring'\nimport { PopupContent } from '../../state/application/actions'\nimport { useRemovePopup } from '../../state/application/hooks'\nimport TransactionPopup from './TransactionPopup'\n\nconst StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`\nconst Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({ theme }) => theme.bg0};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  overflow: hidden;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    min-width: 290px;\n    &:not(:last-of-type) {\n      margin-right: 20px;\n    }\n  `}\n`\nconst Fader = styled.div`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 2px;\n  background-color: ${({ theme }) => theme.bg3};\n`\n\nconst AnimatedFader = animated(Fader)\n\nexport default function PopupItem({\n  removeAfterMs,\n  content,\n  popKey,\n}: {\n  removeAfterMs: number | null\n  content: PopupContent\n  popKey: string\n}) {\n  const removePopup = useRemovePopup()\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined\n\n    const timeout = setTimeout(() => {\n      removeThisPopup()\n    }, removeAfterMs)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [removeAfterMs, removeThisPopup])\n\n  const theme = useContext(ThemeContext)\n\n  let popupContent\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary },\n    } = content\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\n  }\n\n  const faderStyle = useSpring({\n    from: { width: '100%' },\n    to: { width: '0%' },\n    config: { duration: removeAfterMs ?? undefined },\n  })\n\n  return (\n    <Popup>\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\n      {popupContent}\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\n    </Popup>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}