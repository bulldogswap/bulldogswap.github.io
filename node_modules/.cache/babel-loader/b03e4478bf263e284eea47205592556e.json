{"ast":null,"code":"import _slicedToArray from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _taggedTemplateLiteral from\"/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _styled from\"styled-components\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{Trans}from\"@lingui/react\";import{useMemo}from'react';import{Position}from'@uniswap/v3-sdk';import Badge from'components/Badge';import DoubleCurrencyLogo from'components/DoubleLogo';import{usePool}from'hooks/usePools';import{useToken}from'hooks/Tokens';import{Link}from'react-router-dom';import{HideSmall,MEDIA_WIDTHS,SmallOnly}from'theme';import{Percent}from'@uniswap/sdk-core';import{formatTickPrice}from'utils/formatTickPrice';import Loader from'components/Loader';import{unwrappedToken}from'utils/unwrappedToken';import RangeBadge from'components/Badge/RangeBadge';import{RowBetween}from'components/Row';import HoverInlineText from'components/HoverInlineText';import{DAI,USDC,USDT,WBTC,WETH9_EXTENDED}from'../../constants/tokens';import useIsTickAtLimit from'hooks/useIsTickAtLimit';import{Bound}from'state/mint/v3/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LinkRow=_styled(Link).withConfig({componentId:\"sc-1bp9uni-0\"})([\"align-items:center;border-radius:20px;display:flex;cursor:pointer;user-select:none;display:flex;flex-direction:column;justify-content:space-between;color:\",\";margin:8px 0;padding:16px;text-decoration:none;font-weight:500;background-color:\",\";&:last-of-type{margin:8px 0 0 0;}& > div:not(:first-child){text-align:center;}:hover{background-color:\",\";}@media screen and (min-width:\",\"px){}\",\";\"],function(_ref){var theme=_ref.theme;return theme.text1;},function(_ref2){var theme=_ref2.theme;return theme.bg1;},function(_ref3){var theme=_ref3.theme;return theme.bg2;},MEDIA_WIDTHS.upToSmall,function(_ref4){var theme=_ref4.theme;return theme.mediaWidth.upToSmall(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    flex-direction: column;\\n    row-gap: 12px;\\n  \"])));});var BadgeText=_styled.div.withConfig({componentId:\"sc-1bp9uni-1\"})([\"font-weight:500;font-size:14px;\",\";\"],function(_ref5){var theme=_ref5.theme;return theme.mediaWidth.upToSmall(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    font-size: 12px;\\n  \"])));});var DataLineItem=_styled.div.withConfig({componentId:\"sc-1bp9uni-2\"})([\"font-size:14px;\"]);var RangeLineItem=_styled(DataLineItem).withConfig({componentId:\"sc-1bp9uni-3\"})([\"display:flex;flex-direction:row;align-items:center;margin-top:4px;width:100%;\",\";\"],function(_ref6){var theme=_ref6.theme;return theme.mediaWidth.upToSmall(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n    border-radius: 12px;\\n    padding: 8px 0;\\n\"])),function(_ref7){var theme=_ref7.theme;return theme.bg2;});});var DoubleArrow=_styled.span.withConfig({componentId:\"sc-1bp9uni-4\"})([\"margin:0 2px;color:\",\";\",\";\"],function(_ref8){var theme=_ref8.theme;return theme.text3;},function(_ref9){var theme=_ref9.theme;return theme.mediaWidth.upToSmall(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    margin: 4px;\\n    padding: 20px;\\n  \"])));});var RangeText=_styled.span.withConfig({componentId:\"sc-1bp9uni-5\"})([\"padding:0.25rem 0.5rem;border-radius:8px;\"]);var ExtentsText=_styled.span.withConfig({componentId:\"sc-1bp9uni-6\"})([\"color:\",\";font-size:14px;margin-right:4px;\",\";\"],function(_ref10){var theme=_ref10.theme;return theme.text3;},function(_ref11){var theme=_ref11.theme;return theme.mediaWidth.upToSmall(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: none;\\n  \"])));});var PrimaryPositionIdData=_styled.div.withConfig({componentId:\"sc-1bp9uni-7\"})([\"display:flex;flex-direction:row;align-items:center;> *{margin-right:8px;}\"]);var DataText=_styled.div.withConfig({componentId:\"sc-1bp9uni-8\"})([\"font-weight:600;font-size:18px;\",\";\"],function(_ref12){var theme=_ref12.theme;return theme.mediaWidth.upToSmall(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    font-size: 14px;\\n  \"])));});export function getPriceOrderingFromPositionForUI(position){if(!position){return{};}var token0=position.amount0.currency;var token1=position.amount1.currency;// if token0 is a dollar-stable asset, set it as the quote token\nvar stables=[DAI,USDC,USDT];if(stables.some(function(stable){return stable.equals(token0);})){return{priceLower:position.token0PriceUpper.invert(),priceUpper:position.token0PriceLower.invert(),quote:token0,base:token1};}// if token1 is an ETH-/BTC-stable asset, set it as the base token\nvar bases=[].concat(_toConsumableArray(Object.values(WETH9_EXTENDED)),[WBTC]);if(bases.some(function(base){return base.equals(token1);})){return{priceLower:position.token0PriceUpper.invert(),priceUpper:position.token0PriceLower.invert(),quote:token0,base:token1};}// if both prices are below 1, invert\nif(position.token0PriceUpper.lessThan(1)){return{priceLower:position.token0PriceUpper.invert(),priceUpper:position.token0PriceLower.invert(),quote:token0,base:token1};}// otherwise, just return the default\nreturn{priceLower:position.token0PriceLower,priceUpper:position.token0PriceUpper,quote:token1,base:token0};}export default function PositionListItem(_ref13){var _currencyBase$symbol;var positionDetails=_ref13.positionDetails;var token0Address=positionDetails.token0,token1Address=positionDetails.token1,feeAmount=positionDetails.fee,liquidity=positionDetails.liquidity,tickLower=positionDetails.tickLower,tickUpper=positionDetails.tickUpper;var token0=useToken(token0Address);var token1=useToken(token1Address);var currency0=token0?unwrappedToken(token0):undefined;var currency1=token1?unwrappedToken(token1):undefined;// construct Position from details returned\nvar _usePool=usePool(currency0!==null&&currency0!==void 0?currency0:undefined,currency1!==null&&currency1!==void 0?currency1:undefined,feeAmount),_usePool2=_slicedToArray(_usePool,2),pool=_usePool2[1];var position=useMemo(function(){if(pool){return new Position({pool:pool,liquidity:liquidity.toString(),tickLower:tickLower,tickUpper:tickUpper});}return undefined;},[liquidity,pool,tickLower,tickUpper]);var tickAtLimit=useIsTickAtLimit(feeAmount,tickLower,tickUpper);// prices\nvar _getPriceOrderingFrom=getPriceOrderingFromPositionForUI(position),priceLower=_getPriceOrderingFrom.priceLower,priceUpper=_getPriceOrderingFrom.priceUpper,quote=_getPriceOrderingFrom.quote,base=_getPriceOrderingFrom.base;var currencyQuote=quote&&unwrappedToken(quote);var currencyBase=base&&unwrappedToken(base);// check if price is within range\nvar outOfRange=pool?pool.tickCurrent<tickLower||pool.tickCurrent>=tickUpper:false;var positionSummaryLink='/pool/'+positionDetails.tokenId;var removed=liquidity===null||liquidity===void 0?void 0:liquidity.eq(0);return/*#__PURE__*/_jsxs(LinkRow,{to:positionSummaryLink,children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(PrimaryPositionIdData,{children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:currencyBase,currency1:currencyQuote,size:18,margin:true}),/*#__PURE__*/_jsxs(DataText,{children:[\"\\xA0\",currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol,\"\\xA0/\\xA0\",currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol]}),\"\\xA0\",/*#__PURE__*/_jsx(Badge,{children:/*#__PURE__*/_jsx(BadgeText,{children:/*#__PURE__*/_jsx(Trans,{id:\"{0}%\",values:{0:new Percent(feeAmount,1000000).toSignificant()}})})})]}),/*#__PURE__*/_jsx(RangeBadge,{removed:removed,inRange:!outOfRange})]}),priceLower&&priceUpper?/*#__PURE__*/_jsxs(RangeLineItem,{children:[/*#__PURE__*/_jsxs(RangeText,{children:[/*#__PURE__*/_jsx(ExtentsText,{children:/*#__PURE__*/_jsx(Trans,{id:\"Min:\"})}),/*#__PURE__*/_jsx(Trans,{id:\"{0} <0/> per <1/>\",values:{0:formatTickPrice(priceLower,tickAtLimit,Bound.LOWER)},components:{0:/*#__PURE__*/_jsx(HoverInlineText,{text:currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol}),1:/*#__PURE__*/_jsx(HoverInlineText,{text:(_currencyBase$symbol=currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol)!==null&&_currencyBase$symbol!==void 0?_currencyBase$symbol:''})}})]}),' ',/*#__PURE__*/_jsxs(HideSmall,{children:[/*#__PURE__*/_jsx(DoubleArrow,{children:\"\\u27F7\"}),' ']}),/*#__PURE__*/_jsxs(SmallOnly,{children:[/*#__PURE__*/_jsx(DoubleArrow,{children:\"\\u27F7\"}),' ']}),/*#__PURE__*/_jsxs(RangeText,{children:[/*#__PURE__*/_jsx(ExtentsText,{children:/*#__PURE__*/_jsx(Trans,{id:\"Max:\"})}),/*#__PURE__*/_jsx(Trans,{id:\"{0} <0/> per <1/>\",values:{0:formatTickPrice(priceUpper,tickAtLimit,Bound.UPPER)},components:{0:/*#__PURE__*/_jsx(HoverInlineText,{text:currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol}),1:/*#__PURE__*/_jsx(HoverInlineText,{maxCharacters:10,text:currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol})}})]})]}):/*#__PURE__*/_jsx(Loader,{})]});}","map":{"version":3,"sources":["/Users/nakanoteppei/Documents/Jupiter/Codes/bulldogswap.github.io/src/components/PositionListItem/index.tsx"],"names":["useMemo","Position","Badge","DoubleCurrencyLogo","usePool","useToken","Link","HideSmall","MEDIA_WIDTHS","SmallOnly","Percent","formatTickPrice","Loader","unwrappedToken","RangeBadge","RowBetween","HoverInlineText","DAI","USDC","USDT","WBTC","WETH9_EXTENDED","useIsTickAtLimit","Bound","LinkRow","styled","theme","text1","bg1","bg2","upToSmall","mediaWidth","BadgeText","div","DataLineItem","RangeLineItem","DoubleArrow","span","text3","RangeText","ExtentsText","PrimaryPositionIdData","DataText","getPriceOrderingFromPositionForUI","position","token0","amount0","currency","token1","amount1","stables","some","stable","equals","priceLower","token0PriceUpper","invert","priceUpper","token0PriceLower","quote","base","bases","Object","values","lessThan","PositionListItem","positionDetails","token0Address","token1Address","feeAmount","fee","liquidity","tickLower","tickUpper","currency0","undefined","currency1","pool","toString","tickAtLimit","currencyQuote","currencyBase","outOfRange","tickCurrent","positionSummaryLink","tokenId","removed","eq","symbol","toSignificant","LOWER","UPPER"],"mappings":"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","sourcesContent":["import { useMemo } from 'react'\nimport { Position } from '@uniswap/v3-sdk'\nimport Badge from 'components/Badge'\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport { usePool } from 'hooks/usePools'\nimport { useToken } from 'hooks/Tokens'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { HideSmall, MEDIA_WIDTHS, SmallOnly } from 'theme'\nimport { PositionDetails } from 'types/position'\nimport { Price, Token, Percent } from '@uniswap/sdk-core'\nimport { formatTickPrice } from 'utils/formatTickPrice'\nimport Loader from 'components/Loader'\nimport { unwrappedToken } from 'utils/unwrappedToken'\nimport RangeBadge from 'components/Badge/RangeBadge'\nimport { RowBetween } from 'components/Row'\nimport HoverInlineText from 'components/HoverInlineText'\nimport { DAI, USDC, USDT, WBTC, WETH9_EXTENDED } from '../../constants/tokens'\nimport { Trans } from '@lingui/macro'\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit'\nimport { Bound } from 'state/mint/v3/actions'\n\nconst LinkRow = styled(Link)`\n  align-items: center;\n  border-radius: 20px;\n  display: flex;\n  cursor: pointer;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n\n  justify-content: space-between;\n  color: ${({ theme }) => theme.text1};\n  margin: 8px 0;\n  padding: 16px;\n  text-decoration: none;\n  font-weight: 500;\n  background-color: ${({ theme }) => theme.bg1};\n\n  &:last-of-type {\n    margin: 8px 0 0 0;\n  }\n  & > div:not(:first-child) {\n    text-align: center;\n  }\n  :hover {\n    background-color: ${({ theme }) => theme.bg2};\n  }\n\n  @media screen and (min-width: ${MEDIA_WIDTHS.upToSmall}px) {\n    /* flex-direction: row; */\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-direction: column;\n    row-gap: 12px;\n  `};\n`\n\nconst BadgeText = styled.div`\n  font-weight: 500;\n  font-size: 14px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `};\n`\n\nconst DataLineItem = styled.div`\n  font-size: 14px;\n`\n\nconst RangeLineItem = styled(DataLineItem)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  margin-top: 4px;\n  width: 100%;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n  background-color: ${({ theme }) => theme.bg2};\n    border-radius: 12px;\n    padding: 8px 0;\n`};\n`\n\nconst DoubleArrow = styled.span`\n  margin: 0 2px;\n  color: ${({ theme }) => theme.text3};\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    margin: 4px;\n    padding: 20px;\n  `};\n`\n\nconst RangeText = styled.span`\n  /* background-color: ${({ theme }) => theme.bg2}; */\n  padding: 0.25rem 0.5rem;\n  border-radius: 8px;\n`\n\nconst ExtentsText = styled.span`\n  color: ${({ theme }) => theme.text3};\n  font-size: 14px;\n  margin-right: 4px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n\nconst PrimaryPositionIdData = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  > * {\n    margin-right: 8px;\n  }\n`\n\nconst DataText = styled.div`\n  font-weight: 600;\n  font-size: 18px;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`\n\ninterface PositionListItemProps {\n  positionDetails: PositionDetails\n}\n\nexport function getPriceOrderingFromPositionForUI(position?: Position): {\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  quote?: Token\n  base?: Token\n} {\n  if (!position) {\n    return {}\n  }\n\n  const token0 = position.amount0.currency\n  const token1 = position.amount1.currency\n\n  // if token0 is a dollar-stable asset, set it as the quote token\n  const stables = [DAI, USDC, USDT]\n  if (stables.some((stable) => stable.equals(token0))) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    }\n  }\n\n  // if token1 is an ETH-/BTC-stable asset, set it as the base token\n  const bases = [...Object.values(WETH9_EXTENDED), WBTC]\n  if (bases.some((base) => base.equals(token1))) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    }\n  }\n\n  // if both prices are below 1, invert\n  if (position.token0PriceUpper.lessThan(1)) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    }\n  }\n\n  // otherwise, just return the default\n  return {\n    priceLower: position.token0PriceLower,\n    priceUpper: position.token0PriceUpper,\n    quote: token1,\n    base: token0,\n  }\n}\n\nexport default function PositionListItem({ positionDetails }: PositionListItemProps) {\n  const {\n    token0: token0Address,\n    token1: token1Address,\n    fee: feeAmount,\n    liquidity,\n    tickLower,\n    tickUpper,\n  } = positionDetails\n\n  const token0 = useToken(token0Address)\n  const token1 = useToken(token1Address)\n\n  const currency0 = token0 ? unwrappedToken(token0) : undefined\n  const currency1 = token1 ? unwrappedToken(token1) : undefined\n\n  // construct Position from details returned\n  const [, pool] = usePool(currency0 ?? undefined, currency1 ?? undefined, feeAmount)\n\n  const position = useMemo(() => {\n    if (pool) {\n      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })\n    }\n    return undefined\n  }, [liquidity, pool, tickLower, tickUpper])\n\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper)\n\n  // prices\n  const { priceLower, priceUpper, quote, base } = getPriceOrderingFromPositionForUI(position)\n\n  const currencyQuote = quote && unwrappedToken(quote)\n  const currencyBase = base && unwrappedToken(base)\n\n  // check if price is within range\n  const outOfRange: boolean = pool ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper : false\n\n  const positionSummaryLink = '/pool/' + positionDetails.tokenId\n\n  const removed = liquidity?.eq(0)\n\n  return (\n    <LinkRow to={positionSummaryLink}>\n      <RowBetween>\n        <PrimaryPositionIdData>\n          <DoubleCurrencyLogo currency0={currencyBase} currency1={currencyQuote} size={18} margin />\n          <DataText>\n            &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\n          </DataText>\n          &nbsp;\n          <Badge>\n            <BadgeText>\n              <Trans>{new Percent(feeAmount, 1_000_000).toSignificant()}%</Trans>\n            </BadgeText>\n          </Badge>\n        </PrimaryPositionIdData>\n        <RangeBadge removed={removed} inRange={!outOfRange} />\n      </RowBetween>\n\n      {priceLower && priceUpper ? (\n        <RangeLineItem>\n          <RangeText>\n            <ExtentsText>\n              <Trans>Min: </Trans>\n            </ExtentsText>\n            <Trans>\n              {formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} <HoverInlineText text={currencyQuote?.symbol} />{' '}\n              per <HoverInlineText text={currencyBase?.symbol ?? ''} />\n            </Trans>\n          </RangeText>{' '}\n          <HideSmall>\n            <DoubleArrow>⟷</DoubleArrow>{' '}\n          </HideSmall>\n          <SmallOnly>\n            <DoubleArrow>⟷</DoubleArrow>{' '}\n          </SmallOnly>\n          <RangeText>\n            <ExtentsText>\n              <Trans>Max:</Trans>\n            </ExtentsText>\n            <Trans>\n              {formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)} <HoverInlineText text={currencyQuote?.symbol} />{' '}\n              per <HoverInlineText maxCharacters={10} text={currencyBase?.symbol} />\n            </Trans>\n          </RangeText>\n        </RangeLineItem>\n      ) : (\n        <Loader />\n      )}\n    </LinkRow>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}